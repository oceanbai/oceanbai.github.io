<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶ | å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯</title>
  <meta name="keywords" content=" åå°„ ">
  <meta name="description" content="æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶ | å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="11æœˆçš„æœ€åä¸€å¤©ï¼Œå³æ—¶ç»“æŸåˆæ˜¯å¼€å§‹ã€‚å¸Œæœ›æˆ‘ä»¬éƒ½èƒ½å¤ŸåŠªåŠ›å­¦ä¹ ï¼ŒåšæŒä¸æ‡ˆçš„å»è¿½é€è‡ªå·±çš„æ¢¦æƒ³ã€‚åŠ æ²¹ï¼åŠ æ²¹ï¼ï¼åŠ æ²¹ï¼ï¼ï¼ Never give up ï¼ï¼ï¼ï¼ï½œï½œæ°¸ä¸æ”¾å¼ƒï½œï½œ å¤ä¹‹ç«‹å¤§äº‹è€…ï¼Œä¸æƒŸæœ‰è¶…ä¸–ä¹‹æ‰ï¼Œäº¦å¿…æœ‰åšå¿ä¸æ‹”ä¹‹å¿— ğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ª">
<meta property="og:type" content="website">
<meta property="og:title" content="å…³äº">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;about&#x2F;index.html">
<meta property="og:site_name" content="å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯">
<meta property="og:description" content="11æœˆçš„æœ€åä¸€å¤©ï¼Œå³æ—¶ç»“æŸåˆæ˜¯å¼€å§‹ã€‚å¸Œæœ›æˆ‘ä»¬éƒ½èƒ½å¤ŸåŠªåŠ›å­¦ä¹ ï¼ŒåšæŒä¸æ‡ˆçš„å»è¿½é€è‡ªå·±çš„æ¢¦æƒ³ã€‚åŠ æ²¹ï¼åŠ æ²¹ï¼ï¼åŠ æ²¹ï¼ï¼ï¼ Never give up ï¼ï¼ï¼ï¼ï½œï½œæ°¸ä¸æ”¾å¼ƒï½œï½œ å¤ä¹‹ç«‹å¤§äº‹è€…ï¼Œä¸æƒŸæœ‰è¶…ä¸–ä¹‹æ‰ï¼Œäº¦å¿…æœ‰åšå¿ä¸æ‹”ä¹‹å¿— ğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ª">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-02-12T02:53:51.255Z">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1" ></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.0.1" ></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value="">
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Ocean Bai</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/oceanbai" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active">å…¨éƒ¨æ–‡ç« <small>(8)</small></div></li>
    
        
            
            <li><div data-rel="javaåŸºç¡€">javaåŸºç¡€<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="java">java<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="è®¾è®¡æ¨¡å¼">è®¾è®¡æ¨¡å¼<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="é¢è¯•">é¢è¯•<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">å…³äº</a><a style="width: 50%"  class="friends">å‹é“¾</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="8">
<input type="hidden" id="yelog_site_word_count" value="42.2k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        å‹æƒ…é“¾æ¥
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off"id="local-search-input" >
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color3">åƒåœ¾</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">ç®—æ³•</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">ç±»åŠ è½½å™¨</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">åå°„</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">æ¨¡å¼</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">è®¾è®¡</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">é¢è¯•</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a  class="javaåŸºç¡€ "
           href="/2020/02/12/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8(ClassLoader)/"
           data-tag="ç±»åŠ è½½å™¨"
           data-author="" >
            <span class="post-title" title="æ·±å…¥ç†è§£javaç±»åŠ è½½å™¨(ClassLoader)">æ·±å…¥ç†è§£javaç±»åŠ è½½å™¨(ClassLoader)</span>
            <span class="post-date" title="2020-02-12 21:41:31">2020/02/12</span>
        </a>
        
        <a  class="javaåŸºç¡€ "
           href="/2020/02/12/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF(Class%E5%AF%B9%E8%B1%A1)%E4%B8%8E%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/"
           data-tag="åå°„"
           data-author="" >
            <span class="post-title" title="æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶">æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</span>
            <span class="post-date" title="2020-02-12 21:41:31">2020/02/12</span>
        </a>
        
        <a  class="java "
           href="/2020/02/12/%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%96%87%E6%95%B0/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="å›æ–‡æ•°">å›æ–‡æ•°</span>
            <span class="post-date" title="2020-02-12 10:22:00">2020/02/12</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"
           data-tag="è®¾è®¡"
           data-author="" >
            <span class="post-title" title="å·¥å‚æ–¹æ³•æ¨¡å¼--äºŒ">å·¥å‚æ–¹æ³•æ¨¡å¼--äºŒ</span>
            <span class="post-date" title="2020-02-12 10:22:00">2020/02/12</span>
        </a>
        
        <a  class="javaåŸºç¡€ "
           href="/2020/02/11/java/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/"
           data-tag="åƒåœ¾"
           data-author="" >
            <span class="post-title" title="åƒåœ¾å›æ”¶">åƒåœ¾å›æ”¶</span>
            <span class="post-date" title="2020-02-11 21:41:31">2020/02/11</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"
           data-tag="æ¨¡å¼"
           data-author="" >
            <span class="post-title" title="ç®€å•å·¥å‚æ¨¡å¼--ä¸€">ç®€å•å·¥å‚æ¨¡å¼--ä¸€</span>
            <span class="post-date" title="2020-02-11 21:41:31">2020/02/11</span>
        </a>
        
        <a  class="java "
           href="/2019/11/30/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E5%A0%86/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="äºŒå‰å †">äºŒå‰å †</span>
            <span class="post-date" title="2019-11-30 21:49:13">2019/11/30</span>
        </a>
        
        <a  class="é¢è¯• "
           href="/2019/11/30/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E8%A6%81%E6%B1%82/"
           data-tag="é¢è¯•"
           data-author="" >
            <span class="post-title" title="åˆ«äººé¢è¯•è¦æ±‚">åˆ«äººé¢è¯•è¦æ±‚</span>
            <span class="post-date" title="2019-11-30 21:41:31">2019/11/30</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-java/æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a  data-rel="javaåŸºç¡€">javaåŸºç¡€</a>
            
        </span>
        
        
        <span class="tag">
            
            <a class="color3">åå°„</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        åˆ›å»ºæ—¶é—´:<time class="date" title='æ›´æ–°æ—¶é—´: 2020-02-12 21:35:54'>2020-02-12 21:41</time>
        
    </div>
    <div class="article-meta">
        
        <span>å­—æ•°:11.6k</span>
        
        
        <span id="busuanzi_container_page_pv">
            é˜…è¯»:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯-Classå¯¹è±¡-ä¸åå°„æœºåˆ¶"><span class="toc-text">æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#æ·±å…¥ç†è§£javaå¯¹è±¡"><span class="toc-text">æ·±å…¥ç†è§£javaå¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨"><span class="toc-text">RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼"><span class="toc-text">Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Classå¯¹è±¡çš„åŠ è½½"><span class="toc-text">Classå¯¹è±¡çš„åŠ è½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Class-forNameæ–¹æ³•"><span class="toc-text">Class.forNameæ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Classå­—é¢å¸¸é‡"><span class="toc-text">Classå­—é¢å¸¸é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨"><span class="toc-text">ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜"><span class="toc-text">å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#instanceof-å…³é”®å­—ä¸isInstanceæ–¹æ³•"><span class="toc-text">instanceof å…³é”®å­—ä¸isInstanceæ–¹æ³•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç†è§£åå°„æŠ€æœ¯"><span class="toc-text">ç†è§£åå°„æŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Constructorç±»åŠå…¶ç”¨æ³•"><span class="toc-text">Constructorç±»åŠå…¶ç”¨æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fieldç±»åŠå…¶ç”¨æ³•"><span class="toc-text">Fieldç±»åŠå…¶ç”¨æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Methodç±»åŠå…¶ç”¨æ³•"><span class="toc-text">Methodç±»åŠå…¶ç”¨æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åå°„åŒ…ä¸­çš„Arrayç±»"><span class="toc-text">åå°„åŒ…ä¸­çš„Arrayç±»</span></a></li></ol></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><div class='inner-toc'><h2>ç›®å½•</h2><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯-Classå¯¹è±¡-ä¸åå°„æœºåˆ¶"><span class="toc-text">æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#æ·±å…¥ç†è§£javaå¯¹è±¡"><span class="toc-text">æ·±å…¥ç†è§£javaå¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨"><span class="toc-text">RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼"><span class="toc-text">Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Classå¯¹è±¡çš„åŠ è½½"><span class="toc-text">Classå¯¹è±¡çš„åŠ è½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Class-forNameæ–¹æ³•"><span class="toc-text">Class.forNameæ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Classå­—é¢å¸¸é‡"><span class="toc-text">Classå­—é¢å¸¸é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨"><span class="toc-text">ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜"><span class="toc-text">å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#instanceof-å…³é”®å­—ä¸isInstanceæ–¹æ³•"><span class="toc-text">instanceof å…³é”®å­—ä¸isInstanceæ–¹æ³•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç†è§£åå°„æŠ€æœ¯"><span class="toc-text">ç†è§£åå°„æŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Constructorç±»åŠå…¶ç”¨æ³•"><span class="toc-text">Constructorç±»åŠå…¶ç”¨æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fieldç±»åŠå…¶ç”¨æ³•"><span class="toc-text">Fieldç±»åŠå…¶ç”¨æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Methodç±»åŠå…¶ç”¨æ³•"><span class="toc-text">Methodç±»åŠå…¶ç”¨æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åå°„åŒ…ä¸­çš„Arrayç±»"><span class="toc-text">åå°„åŒ…ä¸­çš„Arrayç±»</span></a></li></ol></li></ol></li></ol></li></ol></div></p>
<h1 id="æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯-Classå¯¹è±¡-ä¸åå°„æœºåˆ¶"><a href="#æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯-Classå¯¹è±¡-ä¸åå°„æœºåˆ¶" class="headerlink" title="æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶"></a>æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</h1><h2 id="æ·±å…¥ç†è§£javaå¯¹è±¡"><a href="#æ·±å…¥ç†è§£javaå¯¹è±¡" class="headerlink" title="æ·±å…¥ç†è§£javaå¯¹è±¡"></a>æ·±å…¥ç†è§£javaå¯¹è±¡</h2><h3 id="RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨"><a href="#RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨" class="headerlink" title="RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨"></a>RRTIçš„æ¦‚å¿µä»¥åŠClasså¯¹è±¡ä½œç”¨</h3><p>è®¤è¯†Classå¯¹è±¡ä¹‹å‰ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œ<code>RTTIï¼ˆRun-Time Type Identificationï¼‰</code>è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼Œå¯¹äºè¿™ä¸ªè¯ä¸€ç›´æ˜¯ C++ ä¸­çš„æ¦‚å¿µï¼Œè‡³äºJavaä¸­å‡ºç°RRTIçš„è¯´æ³•åˆ™æ˜¯æºäºã€ŠThinking in Javaã€‹ä¸€ä¹¦ï¼Œå…¶<strong>ä½œç”¨æ˜¯åœ¨è¿è¡Œæ—¶è¯†åˆ«ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹å’Œç±»çš„ä¿¡æ¯ã€‚</strong></p>
<p>è¿™é‡Œåˆ†ä¸¤ç§ï¼š</p>
<ul>
<li>ä¼ ç»Ÿçš„â€RRTIâ€,å®ƒå‡å®šæˆ‘ä»¬åœ¨ç¼–è¯‘æœŸå·²çŸ¥é“äº†æ‰€æœ‰ç±»å‹(åœ¨æ²¡æœ‰åå°„æœºåˆ¶åˆ›å»ºå’Œä½¿ç”¨ç±»å¯¹è±¡æ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯ç¼–è¯‘æœŸå·²ç¡®å®šå…¶ç±»å‹ï¼Œå¦‚newå¯¹è±¡æ—¶è¯¥ç±»å¿…é¡»å·²å®šä¹‰å¥½)ã€‚</li>
<li>å¦å¤–ä¸€ç§æ˜¯åå°„æœºåˆ¶ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶å‘ç°å’Œä½¿ç”¨ç±»å‹çš„ä¿¡æ¯ã€‚åœ¨Javaä¸­ç”¨æ¥è¡¨ç¤ºè¿è¡Œæ—¶ç±»å‹ä¿¡æ¯çš„å¯¹åº”ç±»å°±æ˜¯Classç±»ï¼ŒClassç±»ä¹Ÿæ˜¯ä¸€ä¸ªå®å®åœ¨åœ¨çš„ç±»ï¼Œå­˜åœ¨äºJDKçš„java.langåŒ…ä¸­ï¼Œå…¶éƒ¨åˆ†æºç å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="java">public final class Class&lt;T&gt; implements java.io.Serializable,GenericDeclaration,Type, AnnotatedElement {
    private static final int ANNOTATION= 0x00002000;
    private static final int ENUM      = 0x00004000;
    private static final int SYNTHETIC = 0x00001000;

    private static native void registerNatives();
    static {
        registerNatives();
    }

    /*
     * Private constructor. Only the Java Virtual Machine creates Class objects.ï¼ˆç§æœ‰æ„é€ ï¼Œåªèƒ½ç”±JVMåˆ›å»ºè¯¥ç±»ï¼‰
     * This constructor is not used and prevents the default constructor being
     * generated.
     */
    private Class(ClassLoader loader) {
        // Initialize final field for classLoader.  The initialization value of non-null
        // prevents future JIT optimizations from assuming this final field is null.
        classLoader = loader;
    }</code></pre>
<p>Classç±»è¢«åˆ›å»ºåçš„å¯¹è±¡å°±æ˜¯Classå¯¹è±¡ï¼Œæ³¨æ„ï¼Œ<strong>Classå¯¹è±¡è¡¨ç¤ºçš„æ˜¯è‡ªå·±æ‰‹åŠ¨ç¼–å†™ç±»çš„ç±»å‹ä¿¡æ¯ã€‚</strong></p>
<p>æ¯”å¦‚åˆ›å»ºä¸€ä¸ªShapesç±»ï¼Œé‚£ä¹ˆï¼ŒJVMå°±ä¼šåˆ›å»ºä¸€ä¸ªShapeså¯¹åº”Classç±»çš„Classå¯¹è±¡ï¼Œè¯¥Classå¯¹è±¡ä¿å­˜äº†Shapesç±»ç›¸å…³çš„ç±»å‹ä¿¡æ¯ã€‚å®é™…ä¸Šåœ¨Javaä¸­æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼Œæ¯å½“æˆ‘ä»¬ç¼–å†™å¹¶ä¸”ç¼–è¯‘ä¸€ä¸ªæ–°åˆ›å»ºçš„ç±»å°±ä¼šäº§ç”Ÿä¸€ä¸ªå¯¹åº”Classå¯¹è±¡å¹¶ä¸”è¿™ä¸ªClasså¯¹è±¡ä¼šè¢«ä¿å­˜åœ¨åŒå.classæ–‡ä»¶é‡Œ(ç¼–è¯‘åçš„å­—èŠ‚ç æ–‡ä»¶ä¿å­˜çš„å°±æ˜¯Classå¯¹è±¡)ï¼Œé‚£ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·ä¸€ä¸ªClasså¯¹è±¡å‘¢ï¼Ÿæ˜¯è¿™æ ·çš„ï¼Œå½“æˆ‘ä»¬newä¸€ä¸ªæ–°å¯¹è±¡æˆ–è€…å¼•ç”¨é™æ€æˆå‘˜å˜é‡æ—¶ï¼ŒJavaè™šæ‹Ÿæœº(JVM)ä¸­çš„ç±»åŠ è½½å™¨å­ç³»ç»Ÿä¼šå°†å¯¹åº”Classå¯¹è±¡åŠ è½½åˆ°JVMä¸­ï¼Œç„¶åJVMå†æ ¹æ®è¿™ä¸ªç±»å‹ä¿¡æ¯ç›¸å…³çš„Classå¯¹è±¡åˆ›å»ºæˆ‘ä»¬éœ€è¦å®ä¾‹å¯¹è±¡æˆ–è€…æä¾›é™æ€å˜é‡çš„å¼•ç”¨å€¼ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œæ‰‹åŠ¨ç¼–å†™çš„æ¯ä¸ªclassç±»ï¼Œæ— è®ºåˆ›å»ºå¤šå°‘ä¸ªå®ä¾‹å¯¹è±¡ï¼Œåœ¨JVMä¸­éƒ½åªæœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼Œå³åœ¨å†…å­˜ä¸­æ¯ä¸ªç±»æœ‰ä¸”åªæœ‰ä¸€ä¸ªç›¸å¯¹åº”çš„Classå¯¹è±¡ï¼ŒæŒºæ‹—å£ï¼Œé€šè¿‡ä¸‹å›¾ç†è§£ï¼ˆå†…å­˜ä¸­çš„ç®€æ˜“ç°è±¡å›¾ï¼‰ï¼š</p>
<p><img src="/Users/ocean/Desktop/%E6%96%87%E6%A1%A3%E5%BA%93/java%E5%9F%BA%E7%A1%80/%E5%A4%9A%E5%AF%B9%E8%B1%A1%E5%AF%B9%E5%BA%94%E5%8D%95class.png" alt="å¤šå¯¹è±¡å¯¹åº”å•class"></p>
<p>åˆ°è¿™æˆ‘ä»¬ä¹Ÿå°±å¯ä»¥å¾—å‡ºä»¥ä¸‹å‡ ç‚¹ä¿¡æ¯ï¼š</p>
<ul>
<li><p>Classç±»ä¹Ÿæ˜¯ç±»çš„ä¸€ç§ï¼Œä¸classå…³é”®å­—æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
</li>
<li><p>æ‰‹åŠ¨ç¼–å†™çš„ç±»è¢«ç¼–è¯‘åä¼šäº§ç”Ÿä¸€ä¸ªClasså¯¹è±¡ï¼Œå…¶è¡¨ç¤ºçš„æ˜¯åˆ›å»ºçš„ç±»çš„ç±»å‹ä¿¡æ¯ï¼Œè€Œä¸”è¿™ä¸ªClasså¯¹è±¡ä¿å­˜åœ¨åŒå.classçš„æ–‡ä»¶ä¸­(å­—èŠ‚ç æ–‡ä»¶)ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªShapesç±»ï¼Œç¼–è¯‘Shapesç±»åå°±ä¼šåˆ›å»ºå…¶åŒ…å«Shapesç±»ç›¸å…³ç±»å‹ä¿¡æ¯çš„Classå¯¹è±¡ï¼Œå¹¶ä¿å­˜åœ¨Shapes.classå­—èŠ‚ç æ–‡ä»¶ä¸­ã€‚</p>
</li>
<li><p>æ¯ä¸ªé€šè¿‡å…³é”®å­—classæ ‡è¯†çš„ç±»ï¼Œåœ¨å†…å­˜ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„Classå¯¹è±¡æ¥æè¿°å…¶ç±»å‹ä¿¡æ¯ï¼Œæ— è®ºåˆ›å»ºå¤šå°‘ä¸ªå®ä¾‹å¯¹è±¡ï¼Œå…¶ä¾æ®çš„éƒ½æ˜¯ç”¨ä¸€ä¸ªClasså¯¹è±¡ã€‚</p>
</li>
<li><p>Classç±»åªå­˜ç§æœ‰æ„é€ å‡½æ•°ï¼Œå› æ­¤å¯¹åº”Classå¯¹è±¡åªèƒ½æœ‰JVMåˆ›å»ºå’ŒåŠ è½½</p>
</li>
<li><p>Classç±»çš„å¯¹è±¡ä½œç”¨æ˜¯è¿è¡Œæ—¶æä¾›æˆ–è·å¾—æŸä¸ªå¯¹è±¡çš„ç±»å‹ä¿¡æ¯ï¼Œè¿™ç‚¹å¯¹äºåå°„æŠ€æœ¯å¾ˆé‡è¦(å…³äºåå°„ç¨ååˆ†æ)ã€‚</p>
</li>
</ul>
<h3 id="Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼"><a href="#Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼" class="headerlink" title="Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼"></a>Classå¯¹è±¡çš„åŠ è½½åŠå…¶è·å–æ–¹å¼</h3><h4 id="Classå¯¹è±¡çš„åŠ è½½"><a href="#Classå¯¹è±¡çš„åŠ è½½" class="headerlink" title="Classå¯¹è±¡çš„åŠ è½½"></a>Classå¯¹è±¡çš„åŠ è½½</h4><p>å‰é¢æˆ‘ä»¬å·²æåˆ°è¿‡ï¼ŒClasså¯¹è±¡æ˜¯ç”±JVMåŠ è½½çš„ï¼Œé‚£ä¹ˆå…¶åŠ è½½æ—¶æœºæ˜¯ï¼Ÿå®é™…ä¸Šæ‰€æœ‰çš„ç±»éƒ½æ˜¯åœ¨å¯¹å…¶ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åŠ¨æ€åŠ è½½åˆ°JVMä¸­çš„ï¼Œ<strong>å½“ç¨‹åºåˆ›å»ºç¬¬ä¸€ä¸ªå¯¹ç±»çš„é™æ€æˆå‘˜å¼•ç”¨æ—¶ï¼Œå°±ä¼šåŠ è½½è¿™ä¸ªè¢«ä½¿ç”¨çš„ç±»(å®é™…ä¸ŠåŠ è½½çš„å°±æ˜¯è¿™ä¸ªç±»çš„å­—èŠ‚ç æ–‡ä»¶)ã€‚</strong></p>
<p>æ³¨æ„ï¼Œä½¿ç”¨newæ“ä½œç¬¦åˆ›å»ºç±»çš„æ–°å®ä¾‹å¯¹è±¡ä¹Ÿä¼šè¢«å½“ä½œå¯¹ç±»çš„é™æ€æˆå‘˜çš„å¼•ç”¨(<strong>æ„é€ å‡½æ•°ä¹Ÿæ˜¯ç±»çš„é™æ€æ–¹æ³•</strong>)ï¼Œç”±æ­¤çœ‹æ¥Javaç¨‹åºåœ¨å®ƒä»¬å¼€å§‹è¿è¡Œä¹‹å‰å¹¶éè¢«å®Œå…¨åŠ è½½åˆ°å†…å­˜çš„ï¼Œå…¶å„ä¸ªéƒ¨åˆ†æ˜¯æŒ‰éœ€åŠ è½½ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨è¯¥ç±»æ—¶ï¼Œç±»åŠ è½½å™¨é¦–å…ˆä¼šæ£€æŸ¥è¿™ä¸ªç±»çš„Classå¯¹è±¡æ˜¯å¦å·²è¢«åŠ è½½(ç±»çš„å®ä¾‹å¯¹è±¡åˆ›å»ºæ—¶ä¾æ®Classå¯¹è±¡ä¸­ç±»å‹ä¿¡æ¯å®Œæˆçš„)ï¼Œ<strong>å¦‚æœè¿˜æ²¡æœ‰åŠ è½½ï¼Œé»˜è®¤çš„ç±»åŠ è½½å™¨å°±ä¼šå…ˆæ ¹æ®ç±»åæŸ¥æ‰¾.classæ–‡ä»¶(ç¼–è¯‘åClasså¯¹è±¡è¢«ä¿å­˜åœ¨åŒåçš„.classæ–‡ä»¶ä¸­)ï¼Œ</strong>åœ¨è¿™ä¸ªç±»çš„å­—èŠ‚ç æ–‡ä»¶è¢«åŠ è½½æ—¶ï¼Œå®ƒä»¬å¿…é¡»æ¥å—ç›¸å…³éªŒè¯ï¼Œä»¥ç¡®ä¿å…¶æ²¡æœ‰è¢«ç ´åå¹¶ä¸”ä¸åŒ…å«ä¸è‰¯Javaä»£ç (è¿™æ˜¯javaçš„å®‰å…¨æœºåˆ¶æ£€æµ‹)ï¼Œå®Œå…¨æ²¡æœ‰é—®é¢˜åå°±ä¼šè¢«åŠ¨æ€åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæ­¤æ—¶ç›¸å½“äºClasså¯¹è±¡ä¹Ÿå°±è¢«è½½å…¥å†…å­˜äº†(æ¯•ç«Ÿ.classå­—èŠ‚ç æ–‡ä»¶ä¿å­˜çš„å°±æ˜¯Classå¯¹è±¡)ï¼ŒåŒæ—¶ä¹Ÿå°±å¯ä»¥è¢«ç”¨æ¥åˆ›å»ºè¿™ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡ã€‚ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•ä¾‹å­æ¥è¯´æ˜Classå¯¹è±¡è¢«åŠ è½½çš„æ—¶æœºé—®é¢˜ï¼ˆä¾‹å­å¼•ç”¨è‡ªThinking in Javaï¼‰ï¼š</p>
<pre><code class="java">package com.zejian;

class Candy {
  static {   System.out.println(&quot;Loading Candy&quot;); }
}

class Gum {
  static {   System.out.println(&quot;Loading Gum&quot;); }
}

class Cookie {
  static {   System.out.println(&quot;Loading Cookie&quot;); }
}

public class SweetShop {
  public static void print(Object obj) {
    System.out.println(obj);
  }
  public static void main(String[] args) {  
    print(&quot;inside main&quot;);
    new Candy();
    print(&quot;After creating Candy&quot;);
    try {
      Class.forName(&quot;com.zejian.Gum&quot;);
    } catch(ClassNotFoundException e) {
      print(&quot;Couldn&#39;t find Gum&quot;);
    }
    print(&quot;After Class.forName(\&quot;com.zejian.Gum\&quot;)&quot;);
    new Cookie();
    print(&quot;After creating Cookie&quot;);
  }
}</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­,æ¯ä¸ªç±»Candyã€Gumã€Cookieéƒ½å­˜åœ¨ä¸€ä¸ªstaticè¯­å¥ï¼Œè¿™ä¸ªè¯­å¥ä¼šåœ¨ç±»ç¬¬ä¸€æ¬¡è¢«åŠ è½½æ—¶æ‰§è¡Œï¼Œè¿™ä¸ªè¯­å¥çš„ä½œç”¨å°±æ˜¯å‘Šè¯‰æˆ‘ä»¬è¯¥ç±»åœ¨ä»€ä¹ˆæ—¶å€™è¢«åŠ è½½ï¼Œæ‰§è¡Œç»“æœï¼š</p>
<pre><code class="java">inside main
Loading Candy
After creating Candy
Loading Gum
After Class.forName(&quot;com.zejian.Gum&quot;)
Loading Cookie
After creating Cookie

Process finished with exit code 0</code></pre>
<p>ä»ç»“æœæ¥çœ‹ï¼Œnewä¸€ä¸ªCandyå¯¹è±¡å’ŒCookieå¯¹è±¡ï¼Œæ„é€ å‡½æ•°å°†è¢«è°ƒç”¨ï¼Œå±äºé™æ€æ–¹æ³•çš„å¼•ç”¨ï¼ŒCandyç±»çš„Classå¯¹è±¡å’ŒCookieçš„Classå¯¹è±¡è‚¯å®šä¼šè¢«åŠ è½½ï¼Œæ¯•ç«ŸCandyå®ä¾‹å¯¹è±¡çš„åˆ›å»ºä¾æ®å…¶Classå¯¹è±¡ã€‚æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯</p>
<pre><code class="java">Class.forName(&quot;com.zejian.Gum&quot;);</code></pre>
<p>å…¶ä¸­forNameæ–¹æ³•æ˜¯Classç±»çš„ä¸€ä¸ªstaticæˆå‘˜æ–¹æ³•ï¼Œè®°ä½æ‰€æœ‰çš„Classå¯¹è±¡éƒ½æºäºè¿™ä¸ªClassç±»ï¼Œå› æ­¤Classç±»ä¸­å®šä¹‰çš„æ–¹æ³•å°†é€‚åº”æ‰€æœ‰Classå¯¹è±¡ã€‚è¿™é‡Œé€šè¿‡forNameæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°Gumç±»å¯¹åº”çš„Classå¯¹è±¡å¼•ç”¨ã€‚ä»æ‰“å°ç»“æœæ¥çœ‹ï¼Œè°ƒç”¨forNameæ–¹æ³•å°†ä¼šå¯¼è‡´Gumç±»è¢«åŠ è½½(å‰ææ˜¯Gumç±»ä»æ¥æ²¡æœ‰è¢«åŠ è½½è¿‡)ã€‚</p>
<h4 id="Class-forNameæ–¹æ³•"><a href="#Class-forNameæ–¹æ³•" class="headerlink" title="Class.forNameæ–¹æ³•"></a>Class.forNameæ–¹æ³•</h4><p>é€šè¿‡ä¸Šè¿°çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬ä¹Ÿå°±çŸ¥é“Class.forName()æ–¹æ³•çš„è°ƒç”¨å°†ä¼šè¿”å›ä¸€ä¸ªå¯¹åº”ç±»çš„Classå¯¹è±¡ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬æƒ³è·å–ä¸€ä¸ªç±»çš„è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯å¹¶åŠ ä»¥ä½¿ç”¨æ—¶ï¼Œå¯ä»¥è°ƒç”¨Class.forName()æ–¹æ³•è·å–Classå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯æ— éœ€é€šè¿‡æŒæœ‰è¯¥ç±»çš„å®ä¾‹å¯¹è±¡å¼•ç”¨è€Œå»è·å–Classå¯¹è±¡ï¼Œå¦‚ä¸‹çš„ç¬¬2ç§æ–¹å¼æ˜¯é€šè¿‡ä¸€ä¸ªå®ä¾‹å¯¹è±¡è·å–ä¸€ä¸ªç±»çš„Classå¯¹è±¡ï¼Œå…¶ä¸­çš„getClass()æ˜¯ä»é¡¶çº§ç±»Objectç»§æ‰¿è€Œæ¥çš„ï¼Œå®ƒå°†è¿”å›è¡¨ç¤ºè¯¥å¯¹è±¡çš„å®é™…ç±»å‹çš„Classå¯¹è±¡å¼•ç”¨ã€‚</p>
<pre><code class="java">public static void main(String[] args) {

    try{
      //é€šè¿‡Class.forNameè·å–Gumç±»çš„Classå¯¹è±¡
      Class clazz=Class.forName(&quot;com.zejian.Gum&quot;);
      System.out.println(&quot;forName=clazz:&quot;+clazz.getName());
    }catch (ClassNotFoundException e){
      e.printStackTrace();
    }

    //é€šè¿‡å®ä¾‹å¯¹è±¡è·å–Gumçš„Classå¯¹è±¡
    Gum gum = new Gum();
    Class clazz2=gum.getClass();
    System.out.println(&quot;new=clazz2:&quot;+clazz2.getName());

  }</code></pre>
<p>æ³¨æ„è°ƒç”¨forNameæ–¹æ³•æ—¶éœ€è¦æ•è·ä¸€ä¸ªåç§°ä¸ºClassNotFoundExceptionçš„å¼‚å¸¸ï¼Œå› ä¸ºforNameæ–¹æ³•åœ¨ç¼–è¯‘å™¨æ˜¯æ— æ³•æ£€æµ‹åˆ°å…¶ä¼ é€’çš„å­—ç¬¦ä¸²å¯¹åº”çš„ç±»æ˜¯å¦å­˜åœ¨çš„ï¼Œåªèƒ½åœ¨ç¨‹åºè¿è¡Œæ—¶è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœä¸å­˜åœ¨å°±ä¼šæŠ›å‡ºClassNotFoundExceptionå¼‚å¸¸ã€‚</p>
<h4 id="Classå­—é¢å¸¸é‡"><a href="#Classå­—é¢å¸¸é‡" class="headerlink" title="Classå­—é¢å¸¸é‡"></a>Classå­—é¢å¸¸é‡</h4><p>åœ¨Javaä¸­å­˜åœ¨å¦ä¸€ç§æ–¹å¼æ¥ç”ŸæˆClasså¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒå°±æ˜¯Classå­—é¢å¸¸é‡ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="java">//å­—é¢å¸¸é‡çš„æ–¹å¼è·å–Classå¯¹è±¡
Class clazz = Gum.class;</code></pre>
<p>è¿™ç§æ–¹å¼ç›¸å¯¹å‰é¢ä¸¤ç§æ–¹æ³•æ›´åŠ ç®€å•ï¼Œæ›´å®‰å…¨ã€‚</p>
<p>å› ä¸ºå®ƒåœ¨ç¼–è¯‘å™¨å°±ä¼šå—åˆ°ç¼–è¯‘å™¨çš„æ£€æŸ¥åŒæ—¶ç”±äºæ— éœ€è°ƒç”¨forNameæ–¹æ³•æ•ˆç‡ä¹Ÿä¼šæ›´é«˜ï¼Œ<strong>å› ä¸ºé€šè¿‡å­—é¢é‡çš„æ–¹æ³•è·å–Classå¯¹è±¡çš„å¼•ç”¨ä¸ä¼šè‡ªåŠ¨åˆå§‹åŒ–è¯¥ç±»ã€‚</strong></p>
<p>æ›´åŠ æœ‰è¶£çš„æ˜¯å­—é¢å¸¸é‡çš„è·å–Classå¯¹è±¡å¼•ç”¨æ–¹å¼ä¸ä»…å¯ä»¥åº”ç”¨äºæ™®é€šçš„ç±»ï¼Œä¹Ÿå¯ä»¥åº”ç”¨ç”¨æ¥å£ï¼Œæ•°ç»„ä»¥åŠåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™ç‚¹åœ¨åå°„æŠ€æœ¯åº”ç”¨ä¼ é€’å‚æ•°æ—¶å¾ˆæœ‰å¸®åŠ©ï¼Œå…³äºåå°„æŠ€æœ¯ç¨åä¼šåˆ†æï¼Œç”±äºåŸºæœ¬æ•°æ®ç±»å‹è¿˜æœ‰å¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹ï¼Œ<strong>å…¶åŒ…è£…ç±»å‹æœ‰ä¸€ä¸ªæ ‡å‡†å­—æ®µTYPEï¼Œè€Œè¿™ä¸ªTYPEå°±æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘åŸºæœ¬æ•°æ®ç±»å‹çš„Classå¯¹è±¡ï¼Œ</strong>å…¶ç­‰ä»·è½¬æ¢å¦‚ä¸‹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ›´å€¾å‘ä½¿ç”¨.classçš„å½¢å¼ï¼Œè¿™æ ·å¯ä»¥ä¿æŒä¸æ™®é€šç±»çš„å½¢å¼ç»Ÿä¸€ã€‚</p>
<pre><code class="java">boolean.class = Boolean.TYPE;
char.class = Character.TYPE;
byte.class = Byte.TYPE;
short.class = Short.TYPE;
int.class = Integer.TYPE;
long.class = Long.TYPE;
float.class = Float.TYPE;
double.class = Double.TYPE;
void.class = Void.TYPE;</code></pre>
<p>å‰é¢æåˆ°è¿‡ï¼Œä½¿ç”¨å­—é¢å¸¸é‡çš„æ–¹å¼è·å–Classå¯¹è±¡çš„å¼•ç”¨ä¸ä¼šè§¦å‘ç±»çš„åˆå§‹åŒ–ï¼Œè¿™é‡Œæˆ‘ä»¬å¯èƒ½éœ€è¦ç®€å•äº†è§£ä¸€ä¸‹ç±»åŠ è½½çš„è¿‡ç¨‹ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/imag/javabases/image-20200125205605969.png" alt="image-20200125205605969"></p>
<ul>
<li><p>åŠ è½½ï¼šç±»åŠ è½½è¿‡ç¨‹çš„ä¸€ä¸ªé˜¶æ®µï¼šé€šè¿‡ä¸€ä¸ªç±»çš„å®Œå…¨é™å®šæŸ¥æ‰¾æ­¤ç±»å­—èŠ‚ç æ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨å­—èŠ‚ç æ–‡ä»¶åˆ›å»ºä¸€ä¸ªClasså¯¹è±¡</p>
</li>
<li><p>é“¾æ¥</p>
<ul>
<li><strong>éªŒè¯</strong>å­—èŠ‚ç çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§</li>
<li><strong>å‡†å¤‡</strong>é˜¶æ®µæ­£å¼ä¸ºé™æ€åŸŸåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ³¨æ„æ­¤æ—¶åªæ˜¯åˆ†é…é™æ€æˆå‘˜å˜é‡çš„å­˜å‚¨ç©ºé—´ï¼Œä¸åŒ…å«å®ä¾‹æˆå‘˜å˜é‡ï¼Œå¦‚æœå¿…è¦çš„è¯ï¼Œ<strong>è§£æ</strong>è¿™ä¸ªç±»åˆ›å»ºçš„å¯¹å…¶ä»–ç±»çš„æ‰€æœ‰å¼•ç”¨ã€‚</li>
</ul>
</li>
<li><p>åˆå§‹åŒ–ï¼šç±»åŠ è½½æœ€åé˜¶æ®µï¼Œè‹¥è¯¥ç±»å…·æœ‰è¶…ç±»ï¼Œåˆ™å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰§è¡Œ<strong>é™æ€åˆå§‹åŒ–å™¨</strong>å’Œ<strong>é™æ€åˆå§‹åŒ–æˆå‘˜å˜é‡</strong>ã€‚</p>
</li>
</ul>
<p>ç”±æ­¤å¯çŸ¥ï¼Œæˆ‘ä»¬è·å–å­—é¢å¸¸é‡çš„Classå¼•ç”¨æ—¶ï¼Œè§¦å‘çš„åº”è¯¥æ˜¯åŠ è½½é˜¶æ®µï¼Œå› ä¸ºåœ¨è¿™ä¸ªé˜¶æ®µClasså¯¹è±¡å·²åˆ›å»ºå®Œæˆï¼Œè·å–å…¶å¼•ç”¨å¹¶ä¸å›°éš¾ï¼Œè€Œæ— éœ€è§¦å‘ç±»çš„æœ€åé˜¶æ®µåˆå§‹åŒ–ã€‚ä¸‹é¢é€šè¿‡å°ä¾‹å­æ¥éªŒè¯è¿™ä¸ªè¿‡ç¨‹ï¼š</p>
<pre><code class="java">import java.util.*;

class Initable {
  //ç¼–è¯‘æœŸé™æ€å¸¸é‡
  static final int staticFinal = 47;
  //éç¼–æœŸé™æ€å¸¸é‡
  static final int staticFinal2 =
    ClassInitialization.rand.nextInt(1000);
  static {
    System.out.println(&quot;Initializing Initable&quot;);
  }
}

class Initable2 {
  //é™æ€æˆå‘˜å˜é‡
  static int staticNonFinal = 147;
  static {
    System.out.println(&quot;Initializing Initable2&quot;);
  }
}

class Initable3 {
  //é™æ€æˆå‘˜å˜é‡
  static int staticNonFinal = 74;
  static {
    System.out.println(&quot;Initializing Initable3&quot;);
  }
}

public class ClassInitialization {
  public static Random rand = new Random(47);
  public static void main(String[] args) throws Exception {
    //å­—é¢å¸¸é‡è·å–æ–¹å¼è·å–Classå¯¹è±¡
    Class initable = Initable.class;
    System.out.println(&quot;After creating Initable ref&quot;);
    //ä¸è§¦å‘ç±»åˆå§‹åŒ–
    System.out.println(Initable.staticFinal);
    //ä¼šè§¦å‘ç±»åˆå§‹åŒ–
    System.out.println(Initable.staticFinal2);
    //ä¼šè§¦å‘ç±»åˆå§‹åŒ–
    System.out.println(Initable2.staticNonFinal);
    //forNameæ–¹æ³•è·å–Classå¯¹è±¡
    Class initable3 = Class.forName(&quot;Initable3&quot;);
    System.out.println(&quot;After creating Initable3 ref&quot;);
    System.out.println(Initable3.staticNonFinal);
  }
}</code></pre>
<p>æ‰§è¡Œç»“æœï¼š</p>
<pre><code class="java">After creating Initable ref
47
Initializing Initable
258
Initializing Initable2
147
Initializing Initable3
After creating Initable3 ref
74</code></pre>
<p>ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œå¯ä»¥å‘ç°</p>
<ol>
<li><p>é€šè¿‡å­—é¢å¸¸é‡è·å–æ–¹å¼è·å–Initableç±»çš„Classå¯¹è±¡å¹¶æ²¡æœ‰è§¦å‘Initableç±»çš„åˆå§‹åŒ–ï¼Œè¿™ç‚¹ä¹ŸéªŒè¯äº†å‰é¢çš„åˆ†æ</p>
</li>
<li><p>åŒæ—¶å‘ç°è°ƒç”¨Initable.staticFinalå˜é‡æ—¶ä¹Ÿæ²¡æœ‰è§¦å‘åˆå§‹åŒ–ï¼Œè¿™æ˜¯å› ä¸ºstaticFinalå±äºç¼–è¯‘æœŸé™æ€å¸¸é‡ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µé€šè¿‡å¸¸é‡ä¼ æ’­ä¼˜åŒ–çš„æ–¹å¼å°†Initableç±»çš„å¸¸é‡staticFinalå­˜å‚¨åˆ°äº†ä¸€ä¸ªç§°ä¸ºNotInitializationç±»çš„å¸¸é‡æ± ä¸­ï¼Œåœ¨ä»¥åå¯¹Initableç±»å¸¸é‡staticFinalçš„å¼•ç”¨å®é™…éƒ½è½¬åŒ–ä¸ºå¯¹NotInitializationç±»å¯¹è‡ªèº«å¸¸é‡æ± çš„å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘æœŸåï¼Œå¯¹ç¼–è¯‘æœŸå¸¸é‡çš„å¼•ç”¨éƒ½å°†åœ¨NotInitializationç±»çš„å¸¸é‡æ± è·å–ï¼Œè¿™ä¹Ÿå°±æ˜¯å¼•ç”¨ç¼–è¯‘æœŸé™æ€å¸¸é‡ä¸ä¼šè§¦å‘Initableç±»åˆå§‹åŒ–çš„é‡è¦åŸå› ã€‚</p>
</li>
<li><p>ä½†åœ¨ä¹‹åè°ƒç”¨äº†Initable.staticFinal2å˜é‡åå°±è§¦å‘äº†Initableç±»çš„åˆå§‹åŒ–ï¼Œæ³¨æ„staticFinal2è™½ç„¶è¢«staticå’Œfinalä¿®é¥°ï¼Œä½†å…¶å€¼åœ¨ç¼–è¯‘æœŸå¹¶ä¸èƒ½ç¡®å®šï¼Œå› æ­¤staticFinal2å¹¶ä¸æ˜¯ç¼–è¯‘æœŸå¸¸é‡ï¼Œä½¿ç”¨è¯¥å˜é‡å¿…é¡»å…ˆåˆå§‹åŒ–Initableç±»ã€‚Initable2å’ŒInitable3ç±»ä¸­éƒ½æ˜¯é™æ€æˆå‘˜å˜é‡å¹¶éç¼–è¯‘æœŸå¸¸é‡ï¼Œå¼•ç”¨éƒ½ä¼šè§¦å‘åˆå§‹åŒ–ã€‚</p>
</li>
<li><p>è‡³äºforNameæ–¹æ³•è·å–Classå¯¹è±¡ï¼Œè‚¯å®šä¼šè§¦å‘åˆå§‹åŒ–ï¼Œè¿™ç‚¹åœ¨å‰é¢å·²åˆ†æè¿‡ã€‚</p>
</li>
</ol>
<p>åˆ°è¿™å‡ ç§è·å–Classå¯¹è±¡çš„æ–¹å¼ä¹Ÿéƒ½åˆ†æå®Œï¼Œok~,åˆ°æ­¤è¿™é‡Œå¯ä»¥å¾—å‡ºå°ç»“è®ºï¼š</p>
<ul>
<li><p>è·å–Classå¯¹è±¡å¼•ç”¨çš„æ–¹å¼3ç§ï¼Œé€šè¿‡ç»§æ‰¿è‡ªObjectç±»çš„getClassæ–¹æ³•ï¼ŒClassç±»çš„é™æ€æ–¹æ³•forNameä»¥åŠå­—é¢å¸¸é‡çš„æ–¹å¼â€.classâ€ã€‚</p>
</li>
<li><p>å…¶ä¸­å®ä¾‹ç±»çš„getClassæ–¹æ³•å’ŒClassç±»çš„é™æ€æ–¹æ³•forNameéƒ½å°†ä¼šè§¦å‘ç±»çš„åˆå§‹åŒ–é˜¶æ®µï¼Œè€Œ<strong>å­—é¢å¸¸é‡è·å–Classå¯¹è±¡çš„æ–¹å¼åˆ™ä¸ä¼šè§¦å‘åˆå§‹åŒ–ã€‚</strong>ï¼ˆè§¦å‘ç±»çš„static å°±æ˜¯ç±»åœ¨è¢«åˆå§‹åŒ–çš„æ—¶å€™ã€‚ï¼‰</p>
</li>
<li><p>åˆå§‹åŒ–æ˜¯ç±»åŠ è½½çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œä¹Ÿå°±æ˜¯è¯´å®Œæˆè¿™ä¸ªé˜¶æ®µåç±»ä¹Ÿå°±åŠ è½½åˆ°å†…å­˜ä¸­(Classå¯¹è±¡åœ¨åŠ è½½é˜¶æ®µå·²è¢«åˆ›å»º)ï¼Œæ­¤æ—¶å¯ä»¥å¯¹ç±»è¿›è¡Œå„ç§å¿…è¦çš„æ“ä½œäº†ï¼ˆå¦‚newå¯¹è±¡ï¼Œè°ƒç”¨é™æ€æˆå‘˜ç­‰ï¼‰ï¼Œæ³¨æ„åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ‰çœŸæ­£å¼€å§‹æ‰§è¡Œç±»ä¸­å®šä¹‰çš„Javaç¨‹åºä»£ç æˆ–è€…å­—èŠ‚ç ã€‚</p>
</li>
</ul>
<p><strong>å…³äºç±»åŠ è½½çš„åˆå§‹åŒ–é˜¶æ®µï¼Œåœ¨è™šæ‹Ÿæœºè§„èŒƒä¸¥æ ¼è§„å®šäº†æœ‰ä¸”åªæœ‰5ç§åœºæ™¯å¿…é¡»å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼š</strong></p>
<ul>
<li><p>ä½¿ç”¨<strong>new</strong>å…³é”®å­—å®ä¾‹åŒ–å¯¹è±¡æ—¶ã€<strong>è¯»å–</strong>æˆ–è€…<strong>è®¾ç½®ä¸€ä¸ªç±»çš„é™æ€å­—æ®µ</strong>(ä¸åŒ…å«ç¼–è¯‘æœŸå¸¸é‡)ä»¥åŠè°ƒç”¨é™æ€æ–¹æ³•çš„æ—¶å€™ï¼Œå¿…é¡»è§¦å‘ç±»åŠ è½½çš„åˆå§‹åŒ–è¿‡ç¨‹(ç±»åŠ è½½è¿‡ç¨‹æœ€ç»ˆé˜¶æ®µ)ã€‚</p>
</li>
<li><p>ä½¿ç”¨åå°„åŒ…(java.lang.reflect)çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨æ—¶ï¼Œå¦‚æœç±»è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™éœ€å…ˆè¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™ç‚¹å¯¹<strong>åå°„</strong>å¾ˆé‡è¦ã€‚</p>
</li>
<li><p>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå…¶çˆ¶ç±»è¿˜æ²¡è¿›è¡Œåˆå§‹åŒ–åˆ™éœ€å…ˆè§¦å‘å…¶<strong>çˆ¶ç±»</strong>çš„åˆå§‹åŒ–ã€‚ï¼ˆçˆ¶â€“&gt;å­ï¼‰</p>
</li>
<li><p>å½“Javaè™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œç”¨æˆ·éœ€è¦æŒ‡å®šä¸€ä¸ªè¦æ‰§è¡Œçš„ä¸»ç±»(<strong>åŒ…å«mainæ–¹æ³•çš„ç±»</strong>)ï¼Œè™šæ‹Ÿæœºä¼šå…ˆåˆå§‹åŒ–è¿™ä¸ªä¸»ç±»</p>
</li>
<li><p>å½“ä½¿ç”¨JDK 1.7 çš„åŠ¨æ€è¯­è¨€æ”¯æŒæ—¶ï¼Œå¦‚æœä¸€ä¸ªjava.lang.invoke.MethodHandle å®ä¾‹æœ€åè§£æç»“æœä¸ºREF_getStaticã€REF_putStaticã€REF_invokeStaticçš„æ–¹æ³•å¥æŸ„ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¥æŸ„å¯¹åº”ç±»æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œå¿…é¡»è§¦å‘å…¶åˆå§‹åŒ–(è¿™ç‚¹çœ‹ä¸æ‡‚å°±ç®—äº†ï¼Œè¿™æ˜¯1.7çš„æ–°å¢çš„åŠ¨æ€è¯­è¨€æ”¯æŒï¼Œå…¶<strong>å…³é”®ç‰¹å¾æ˜¯å®ƒçš„ç±»å‹æ£€æŸ¥çš„ä¸»ä½“è¿‡ç¨‹æ˜¯åœ¨è¿è¡ŒæœŸè€Œä¸æ˜¯ç¼–è¯‘æœŸè¿›è¡Œçš„ï¼Œ</strong>è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§ç‚¹çš„è¯é¢˜ï¼Œè¿™é‡Œæš‚ä¸”æ‰“ä½)</p>
</li>
</ul>
<h4 id="ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨"><a href="#ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨" class="headerlink" title="ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨"></a>ç†è§£æ³›åŒ–çš„Classå¯¹è±¡å¼•ç”¨</h4><p>ç”±äºClassçš„å¼•ç”¨æ€»æ•°æŒ‡å‘æŸä¸ªç±»çš„Classå¯¹è±¡ï¼Œåˆ©ç”¨Classå¯¹è±¡å¯ä»¥åˆ›å»ºå®ä¾‹ç±»ï¼Œè¿™ä¹Ÿå°±è¶³ä»¥è¯´æ˜Classå¯¹è±¡çš„å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ç¡®åˆ‡çš„ç±»å‹ã€‚åœ¨Java SE5å¼•å…¥æ³›å‹åï¼Œä½¿ç”¨æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ³›å‹æ¥è¡¨ç¤ºClasså¯¹è±¡æ›´å…·ä½“çš„ç±»å‹ï¼Œå³ä½¿åœ¨è¿è¡ŒæœŸé—´ä¼šè¢«æ“¦é™¤ï¼Œä½†ç¼–è¯‘æœŸè¶³ä»¥ç¡®ä¿æˆ‘ä»¬ä½¿ç”¨æ­£ç¡®çš„å¯¹è±¡ç±»å‹ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code class="java">/**
 * Created by zejian on 2017/4/30.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */
public class ClazzDemo {

    public static void main(String[] args){
        //æ²¡æœ‰æ³›å‹
        Class intClass = int.class;

        //å¸¦æ³›å‹çš„Classå¯¹è±¡
        Class&lt;Integer&gt; integerClass = int.class;

        integerClass = Integer.class;

        //æ²¡æœ‰æ³›å‹çš„çº¦æŸ,å¯ä»¥éšæ„èµ‹å€¼
        intClass= double.class;

        //ç¼–è¯‘æœŸé”™è¯¯,æ— æ³•ç¼–è¯‘é€šè¿‡
        //integerClass = double.class
    }
}</code></pre>
<p>ä»ä»£ç å¯ä»¥çœ‹å‡ºï¼Œå£°æ˜æ™®é€šçš„Classå¯¹è±¡ï¼Œåœ¨ç¼–è¯‘å™¨å¹¶ä¸ä¼šæ£€æŸ¥Classå¯¹è±¡çš„ç¡®åˆ‡ç±»å‹æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œå¦‚æœå­˜åœ¨é”™è¯¯åªæœ‰åœ¨è¿è¡Œæ—¶æ‰å¾—ä»¥æš´éœ²å‡ºæ¥ã€‚ä½†æ˜¯é€šè¿‡æ³›å‹å£°æ˜æŒ‡æ˜ç±»å‹çš„Classå¯¹è±¡ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸå°†å¯¹å¸¦æ³›å‹çš„ç±»è¿›è¡Œé¢å¤–çš„ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿åœ¨ç¼–è¯‘æœŸå°±èƒ½ä¿è¯ç±»å‹çš„æ­£ç¡®æ€§ï¼Œå®é™…ä¸ŠInteger.classå°±æ˜¯ä¸€ä¸ªClass<Integer>ç±»çš„å¯¹è±¡ã€‚é¢å¯¹ä¸‹è¿°è¯­å¥ï¼Œç¡®å®å¯èƒ½ä»¤äººå›°æƒ‘ï¼Œä½†è¯¥è¯­å¥ç¡®å®æ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ã€‚</p>
<pre><code class="java">//ç¼–è¯‘æ— æ³•é€šè¿‡
Class&lt;Number&gt; numberClass=Integer.class;</code></pre>
<p>æˆ‘ä»¬æˆ–è®¸ä¼šæƒ³Integerä¸å°±æ˜¯Numberçš„å­ç±»å—ï¼Ÿç„¶è€Œäº‹å®å¹¶éè¿™èˆ¬ç®€å•ï¼Œæ¯•ç«ŸIntegerçš„Classå¯¹è±¡å¹¶éNumberçš„Classå¯¹è±¡çš„å­ç±»ï¼Œå‰é¢æåˆ°è¿‡ï¼Œæ‰€æœ‰çš„Classå¯¹è±¡éƒ½åªæ¥æºäºClassç±»ï¼Œçœ‹æ¥äº‹å®ç¡®å®å¦‚æ­¤ã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨é€šé…ç¬¦â€œ?â€æ¥è§£å†³é—®é¢˜ï¼š</p>
<pre><code class="java">Class&lt;?&gt; intClass = int.class;
intClass = double.class;</code></pre>
<p>è¿™æ ·çš„è¯­å¥å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ¯•ç«Ÿé€šé…ç¬¦æŒ‡æ˜æ‰€æœ‰ç±»å‹éƒ½é€‚ç”¨ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨Classè¿˜è¦ä½¿ç”¨<code>Class&lt;?&gt;</code>å‘¢ï¼Ÿè¿™æ ·åšçš„å¥½å¤„æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬æ˜¯ç¡®å®æ˜¯é‡‡ç”¨ä»»æ„ç±»å‹çš„æ³›å‹ï¼Œè€Œéå¿˜è®°ä½¿ç”¨æ³›å‹çº¦æŸï¼Œå› æ­¤<code>Class&lt;?&gt;</code>æ€»æ˜¯ä¼˜äºç›´æ¥ä½¿ç”¨Classï¼Œè‡³å°‘å‰è€…åœ¨ç¼–è¯‘å™¨æ£€æŸ¥æ—¶ä¸ä¼šäº§ç”Ÿè­¦å‘Šä¿¡æ¯ã€‚å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨extendså…³é”®å­—å‘Šè¯‰ç¼–è¯‘å™¨æ¥æ”¶æŸä¸ªç±»å‹çš„å­ç±»ï¼Œå¦‚è§£å†³å‰é¢Numberä¸Integerçš„é—®é¢˜ï¼š</p>
<pre><code class="java">//ç¼–è¯‘é€šè¿‡ï¼
Class&lt;? extends Number&gt; clazz = Integer.class;
//èµ‹äºˆå…¶ä»–ç±»å‹
clazz = double.class;
clazz = Number.class;</code></pre>
<p>ä¸Šè¿°çš„ä»£ç æ˜¯è¡Œå¾—é€šçš„ï¼Œextendså…³é”®å­—çš„ä½œç”¨æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œåªè¦æ˜¯Numberçš„å­ç±»éƒ½å¯ä»¥èµ‹å€¼ã€‚è¿™ç‚¹ä¸å‰é¢ç›´æ¥ä½¿ç”¨<code>Class</code>æ˜¯ä¸ä¸€æ ·çš„ã€‚å®é™…ä¸Šï¼Œåº”è¯¥æ—¶åˆ»è®°ä½å‘Classå¼•ç”¨æ·»åŠ æ³›å‹çº¦æŸä»…ä»…æ˜¯ä¸ºäº†æä¾›ç¼–è¯‘æœŸç±»å‹çš„æ£€æŸ¥ä»è€Œé¿å…å°†é”™è¯¯å»¶ç»­åˆ°è¿è¡Œæ—¶æœŸã€‚</p>
<h4 id="å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜"><a href="#å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜" class="headerlink" title="å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜"></a>å…³äºç±»å‹è½¬æ¢çš„é—®é¢˜</h4><p>åœ¨è®¸å¤šéœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢çš„åœºæ™¯ï¼Œæˆ‘ä»¬æ›´å¤šçš„åšæ³•æ˜¯ç›´æ¥å¼ºåˆ¶è½¬æ¢ç±»å‹ï¼š</p>
<pre><code class="java">package com.zejian;

/**
 * Created by zejian on 2017/4/30.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */
public class ClassCast {

 public void cast(){

     Animal animal= new Dog();
     //å¼ºåˆ¶è½¬æ¢
     Dog dog = (Dog) animal;
 }
}

interface Animal{ }

class Dog implements  Animal{ }</code></pre>
<p><strong>ä¹‹æ‰€å¯ä»¥å¼ºåˆ¶è½¬æ¢ï¼Œè¿™å¾—å½’åŠŸäºRRTIã€‚</strong>è¦çŸ¥é“åœ¨Javaä¸­ï¼Œæ‰€æœ‰ç±»å‹è½¬æ¢éƒ½æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œæ­£ç¡®æ€§æ£€æŸ¥çš„ï¼Œåˆ©ç”¨RRTIè¿›è¡Œåˆ¤æ–­ç±»å‹æ˜¯å¦æ­£ç¡®ä»è€Œç¡®ä¿å¼ºåˆ¶è½¬æ¢çš„å®Œæˆï¼Œå¦‚æœç±»å‹è½¬æ¢å¤±è´¥ï¼Œå°†ä¼šæŠ›å‡ºç±»å‹è½¬æ¢å¼‚å¸¸ã€‚é™¤äº†å¼ºåˆ¶è½¬æ¢å¤–ï¼Œåœ¨Java SE5ä¸­æ–°å¢ä¸€ç§ä½¿ç”¨Classå¯¹è±¡è¿›è¡Œç±»å‹è½¬æ¢çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="java">Animal animal= new Dog();
//è¿™ä¸¤å¥ç­‰åŒäºDog dog = (Dog) animal;
Class&lt;Dog&gt; dogType = Dog.class;
Dog dog = dogType.cast(animal)</code></pre>
<p>åˆ©ç”¨Classå¯¹è±¡çš„castæ–¹æ³•ï¼Œå…¶å‚æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°å¯¹è±¡å¹¶å°†å…¶è½¬æ¢ä¸ºClasså¼•ç”¨çš„ç±»å‹ã€‚è¿™ç§æ–¹å¼ä¼¼ä¹æ¯”ä¹‹å‰çš„å¼ºåˆ¶è½¬æ¢æ›´éº»çƒ¦äº›ï¼Œç¡®å®å¦‚æ­¤ï¼Œè€Œä¸”å½“ç±»å‹ä¸èƒ½æ­£ç¡®è½¬æ¢æ—¶ï¼Œä»ç„¶ä¼šæŠ›å‡ºClassCastExceptionå¼‚å¸¸ã€‚æºç å¦‚ä¸‹ï¼š</p>
<pre><code class="java">public T cast(Object obj) {
    if (obj != null &amp;&amp; !isInstance(obj))
         throw new ClassCastException(cannotCastMsg(obj));
     return (T) obj;
  }</code></pre>
<h4 id="instanceof-å…³é”®å­—ä¸isInstanceæ–¹æ³•"><a href="#instanceof-å…³é”®å­—ä¸isInstanceæ–¹æ³•" class="headerlink" title="instanceof å…³é”®å­—ä¸isInstanceæ–¹æ³•"></a>instanceof å…³é”®å­—ä¸isInstanceæ–¹æ³•</h4><p>å…³äºinstanceof å…³é”®å­—ï¼Œå®ƒè¿”å›ä¸€ä¸ªbooleanç±»å‹çš„å€¼ï¼Œ<strong>æ„åœ¨å‘Šè¯‰æˆ‘ä»¬å¯¹è±¡æ˜¯ä¸æ˜¯æŸä¸ªç‰¹å®šçš„ç±»å‹å®ä¾‹ã€‚</strong>å¦‚ä¸‹ï¼Œåœ¨å¼ºåˆ¶è½¬æ¢å‰åˆ©ç”¨instanceofæ£€æµ‹objæ˜¯ä¸æ˜¯Animalç±»å‹çš„å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœè¿”å›trueå†è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¿™æ ·å¯ä»¥é¿å…æŠ›å‡ºç±»å‹è½¬æ¢çš„å¼‚å¸¸(ClassCastException)</p>
<pre><code class="java">public void cast2(Object obj){
    if(obj instanceof Animal){
          Animal animal= (Animal) obj;
      }
}</code></pre>
<p>è€ŒisInstanceæ–¹æ³•åˆ™æ˜¯Classç±»ä¸­çš„ä¸€ä¸ªNativeæ–¹æ³•ï¼Œä¹Ÿæ˜¯ç”¨äºåˆ¤æ–­å¯¹è±¡ç±»å‹çš„ï¼Œçœ‹ä¸ªç®€å•ä¾‹å­ï¼š</p>
<pre><code class="java">public void cast2(Object obj){
        //instanceofå…³é”®å­—
        if(obj instanceof Animal){
            Animal animal= (Animal) obj;
        }

        //isInstanceæ–¹æ³•
        if(Animal.class.isInstance(obj)){
            Animal animal= (Animal) obj;
        }
  }</code></pre>
<p>äº‹å®ä¸ŠinstanceOf ä¸isInstanceæ–¹æ³•äº§ç”Ÿçš„ç»“æœæ˜¯ç›¸åŒçš„ã€‚å¯¹äºinstanceOfæ˜¯å…³é”®å­—åªè¢«ç”¨äºå¯¹è±¡å¼•ç”¨å˜é‡ï¼Œæ£€æŸ¥å·¦è¾¹å¯¹è±¡æ˜¯ä¸æ˜¯å³è¾¹ç±»æˆ–æ¥å£çš„å®ä¾‹åŒ–ã€‚å¦‚æœè¢«æµ‹å¯¹è±¡æ˜¯nullå€¼ï¼Œåˆ™æµ‹è¯•ç»“æœæ€»æ˜¯falseã€‚ä¸€èˆ¬å½¢å¼ï¼š</p>
<pre><code class="java">//åˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯è¿™ç§ç±»å‹
obj.instanceof(class)</code></pre>
<p>è€ŒisInstanceæ–¹æ³•åˆ™æ˜¯Classç±»çš„Nativeæ–¹æ³•ï¼Œå…¶ä¸­objæ˜¯è¢«æµ‹è¯•çš„å¯¹è±¡æˆ–è€…å˜é‡ï¼Œå¦‚æœobjæ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„classæˆ–æ¥å£çš„å®ä¾‹ï¼Œåˆ™è¿”å›trueã€‚å¦‚æœè¢«æ£€æµ‹çš„å¯¹è±¡æ˜¯nullæˆ–è€…åŸºæœ¬ç±»å‹ï¼Œé‚£ä¹ˆè¿”å›å€¼æ˜¯false;ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="java">//åˆ¤æ–­è¿™ä¸ªå¯¹è±¡èƒ½ä¸èƒ½è¢«è½¬åŒ–ä¸ºè¿™ä¸ªç±»
class.inInstance(obj)</code></pre>
<p>æœ€åè¿™é‡Œç»™å‡ºä¸€ä¸ªç®€å•å®ä¾‹ï¼ŒéªŒè¯isInstanceæ–¹æ³•ä¸instanceofç­‰ä»·æ€§ï¼š</p>
<pre><code class="java">class A {}

class B extends A {}

public class C {
  static void test(Object x) {
    print(&quot;Testing x of type &quot; + x.getClass());
    print(&quot;x instanceof A &quot; + (x instanceof A));
    print(&quot;x instanceof B &quot;+ (x instanceof B));
    print(&quot;A.isInstance(x) &quot;+ A.class.isInstance(x));
    print(&quot;B.isInstance(x) &quot; +
      B.class.isInstance(x));
    print(&quot;x.getClass() == A.class &quot; +
      (x.getClass() == A.class));
    print(&quot;x.getClass() == B.class &quot; +
      (x.getClass() == B.class));
    print(&quot;x.getClass().equals(A.class)) &quot;+
      (x.getClass().equals(A.class)));
    print(&quot;x.getClass().equals(B.class)) &quot; +
      (x.getClass().equals(B.class)));
  }
  public static void main(String[] args) {
    test(new A());
    test(new B());
  } 
}</code></pre>
<p>æ‰§è¡Œç»“æœï¼š</p>
<pre><code class="java">Testing x of type class com.zejian.A
x instanceof A true
x instanceof B false //çˆ¶ç±»ä¸ä¸€å®šæ˜¯å­ç±»çš„æŸä¸ªç±»å‹
A.isInstance(x) true
B.isInstance(x) false
x.getClass() == A.class true
x.getClass() == B.class false
x.getClass().equals(A.class)) true
x.getClass().equals(B.class)) false
---------------------------------------------
Testing x of type class com.zejian.B
x instanceof A true
x instanceof B true
A.isInstance(x) true
B.isInstance(x) true
x.getClass() == A.class false
x.getClass() == B.class true
x.getClass().equals(A.class)) false
x.getClass().equals(B.class)) true</code></pre>
<p>åˆ°æ­¤å…³äºClasså¯¹è±¡ç›¸å…³çš„çŸ¥è¯†ç‚¹éƒ½åˆ†æå®Œäº†ï¼Œä¸‹é¢å°†ç»“åˆClasså¯¹è±¡çš„çŸ¥è¯†ç‚¹åˆ†æåå°„æŠ€æœ¯ã€‚</p>
<h2 id="ç†è§£åå°„æŠ€æœ¯"><a href="#ç†è§£åå°„æŠ€æœ¯" class="headerlink" title="ç†è§£åå°„æŠ€æœ¯"></a>ç†è§£åå°„æŠ€æœ¯</h2><p><strong>åå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­</strong>ï¼š</p>
<ul>
<li><p>å¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›</p>
</li>
<li><p>å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ï¼Œè¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚</p>
</li>
<li><p>ä¸€ç›´ä»¥æ¥åå°„æŠ€æœ¯éƒ½æ˜¯Javaä¸­çš„é—ªäº®ç‚¹ï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰å¤§éƒ¨åˆ†æ¡†æ¶(å¦‚Spring/Mybatisç­‰)å¾—ä»¥å®ç°çš„æ”¯æŸ±ã€‚åœ¨Javaä¸­ï¼ŒClassç±»ä¸java.lang.reflectç±»åº“ä¸€èµ·å¯¹åå°„æŠ€æœ¯è¿›è¡Œäº†å…¨åŠ›çš„æ”¯æŒã€‚</p>
<ul>
<li>åœ¨åå°„åŒ…ä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„ç±»ä¸»è¦æœ‰<code>Constructor</code>ç±»è¡¨ç¤ºçš„æ˜¯Class å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„<code>æ„é€ æ–¹æ³•</code>ï¼Œåˆ©ç”¨å®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€‚</li>
<li><code>Field</code>è¡¨ç¤ºClasså¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„<code>æˆå‘˜å˜é‡</code>ï¼Œé€šè¿‡å®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹æˆå‘˜å˜é‡çš„å±æ€§å€¼(åŒ…å«private).</li>
<li><code>Method</code>è¡¨ç¤ºClasså¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„<code>æˆå‘˜æ–¹æ³•</code>ï¼Œé€šè¿‡å®ƒå¯ä»¥åŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•(åŒ…å«private)ï¼Œä¸‹é¢å°†å¯¹è¿™å‡ ä¸ªé‡è¦ç±»è¿›è¡Œåˆ†åˆ«è¯´æ˜ã€‚</li>
</ul>
</li>
</ul>
<h4 id="Constructorç±»åŠå…¶ç”¨æ³•"><a href="#Constructorç±»åŠå…¶ç”¨æ³•" class="headerlink" title="Constructorç±»åŠå…¶ç”¨æ³•"></a>Constructorç±»åŠå…¶ç”¨æ³•</h4><p>Constructorç±»å­˜åœ¨äºåå°„åŒ…(java.lang.reflect)ä¸­ï¼Œåæ˜ çš„æ˜¯Class å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„æ„é€ æ–¹æ³•ã€‚è·å–Constructorå¯¹è±¡æ˜¯é€šè¿‡Classç±»ä¸­çš„æ–¹æ³•è·å–çš„ï¼ŒClassç±»ä¸Constructorç›¸å…³çš„ä¸»è¦æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>static Class&lt;?&gt;</code></td>
<td align="center">forName(String className)</td>
<td align="center">è¿”å›ä¸å¸¦æœ‰ç»™å®šå­—ç¬¦ä¸²åçš„ç±»æˆ–æ¥å£ç›¸å…³è”çš„ Class å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="center"><code>Constructor&lt;T&gt;</code></td>
<td align="center"><code>getConstructor(Class&lt;?&gt;... parameterTypes)</code></td>
<td align="center">è¿”å›æŒ‡å®šå‚æ•°ç±»å‹ã€å…·æœ‰publicè®¿é—®æƒé™çš„æ„é€ å‡½æ•°å¯¹è±¡</td>
</tr>
<tr>
<td align="center"><code>Constructor&lt;?&gt;[]</code></td>
<td align="center">getConstructors()</td>
<td align="center">è¿”å›æ‰€æœ‰å…·æœ‰publicè®¿é—®æƒé™çš„æ„é€ å‡½æ•°çš„Constructorå¯¹è±¡æ•°ç»„</td>
</tr>
<tr>
<td align="center"><code>Constructor&lt;T&gt;</code></td>
<td align="center"><code>getDeclaredConstructor(Class&lt;?&gt;... parameterTypes)</code></td>
<td align="center">è¿”å›æŒ‡å®šå‚æ•°ç±»å‹ã€æ‰€æœ‰å£°æ˜çš„ï¼ˆåŒ…æ‹¬privateï¼‰æ„é€ å‡½æ•°å¯¹è±¡</td>
</tr>
<tr>
<td align="center"><code>Constructor&lt;?&gt;[]</code></td>
<td align="center"><code>getDeclaredConstructor()</code></td>
<td align="center">è¿”å›æ‰€æœ‰å£°æ˜çš„ï¼ˆåŒ…æ‹¬privateï¼‰æ„é€ å‡½æ•°å¯¹è±¡</td>
</tr>
<tr>
<td align="center">T</td>
<td align="center">newInstance()</td>
<td align="center">åˆ›å»ºæ­¤ Class å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„ä¸€ä¸ªæ–°å®ä¾‹ã€‚</td>
</tr>
</tbody></table>
<p>ä¸‹é¢çœ‹ä¸€ä¸ªç®€å•ä¾‹å­æ¥äº†è§£Constructorå¯¹è±¡çš„ä½¿ç”¨ï¼š</p>
<pre><code class="java">package reflect;

import java.io.Serializable;
import java.lang.reflect.Constructor;

/**
 * Created by zejian on 2017/5/1.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */
public class ReflectDemo implements Serializable{
    public static void main(String[] args) throws Exception {

        Class&lt;?&gt; clazz = null;

        //è·å–Classå¯¹è±¡çš„å¼•ç”¨
        clazz = Class.forName(&quot;reflect.User&quot;);

        //ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå®ä¾‹åŒ–é»˜è®¤æ„é€ æ–¹æ³•ï¼ŒUserå¿…é¡»æ— å‚æ„é€ å‡½æ•°,å¦åˆ™å°†æŠ›å¼‚å¸¸
        User user = (User) clazz.newInstance();
        user.setAge(20);
        user.setName(&quot;Rollen&quot;);
        System.out.println(user);

        System.out.println(&quot;--------------------------------------------&quot;);

        //è·å–å¸¦Stringå‚æ•°çš„publicæ„é€ å‡½æ•°
        Constructor cs1 =clazz.getConstructor(String.class);
        //åˆ›å»ºUser
        User user1= (User) cs1.newInstance(&quot;xiaolong&quot;);
        user1.setAge(22);
        System.out.println(&quot;user1:&quot;+user1.toString());

        System.out.println(&quot;--------------------------------------------&quot;);

        //å–å¾—æŒ‡å®šå¸¦intå’ŒStringå‚æ•°æ„é€ å‡½æ•°,è¯¥æ–¹æ³•æ˜¯ç§æœ‰æ„é€ private
        Constructor cs2=clazz.getDeclaredConstructor(int.class,String.class);
        //ç”±äºæ˜¯privateå¿…é¡»è®¾ç½®å¯è®¿é—®
        cs2.setAccessible(true);
        //åˆ›å»ºuserå¯¹è±¡
        User user2= (User) cs2.newInstance(25,&quot;lidakang&quot;);
        System.out.println(&quot;user2:&quot;+user2.toString());

        System.out.println(&quot;--------------------------------------------&quot;);

        //è·å–æ‰€æœ‰æ„é€ åŒ…å«private
        Constructor&lt;?&gt; cons[] = clazz.getDeclaredConstructors();
        // æŸ¥çœ‹æ¯ä¸ªæ„é€ æ–¹æ³•éœ€è¦çš„å‚æ•°
        for (int i = 0; i &lt; cons.length; i++) {
            //è·å–æ„é€ å‡½æ•°å‚æ•°ç±»å‹
            Class&lt;?&gt; clazzs[] = cons[i].getParameterTypes();
            System.out.println(&quot;æ„é€ å‡½æ•°[&quot;+i+&quot;]:&quot;+cons[i].toString() );
            System.out.print(&quot;å‚æ•°ç±»å‹[&quot;+i+&quot;]:(&quot;);
            for (int j = 0; j &lt; clazzs.length; j++) {
                if (j == clazzs.length - 1)
                    System.out.print(clazzs[j].getName());
                else
                    System.out.print(clazzs[j].getName() + &quot;,&quot;);
            }
            System.out.println(&quot;)&quot;);
        }
    }
}


class User {
    private int age;
    private String name;
    public User() {
        super();
    }
    public User(String name) {
        super();
        this.name = name;
    }

    /**
     * ç§æœ‰æ„é€ 
     * @param age
     * @param name
     */
    private User(int age, String name) {
        super();
        this.age = age;
        this.name = name;
    }

  //..........çœç•¥set å’Œ getæ–¹æ³•
}</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code class="java">User [age=20, name=Rollen]
--------------------------------------------
user1:User [age=22, name=xiaolong]
--------------------------------------------
user2:User [age=25, name=lidakang]
--------------------------------------------
æ„é€ å‡½æ•°[0]:private reflect.User(int,java.lang.String)
å‚æ•°ç±»å‹[0]:(int,java.lang.String)
æ„é€ å‡½æ•°[1]:public reflect.User(java.lang.String)
å‚æ•°ç±»å‹[1]:(java.lang.String)
æ„é€ å‡½æ•°[2]:public reflect.User()
å‚æ•°ç±»å‹[2]:()</code></pre>
<p>å…³äºConstructorç±»æœ¬èº«ä¸€äº›å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹(ä»…éƒ¨åˆ†ï¼Œå…¶ä»–å¯æŸ¥API)ï¼Œ</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>Class&lt;T&gt;</code></td>
<td align="center"><code>getDeclaringClass()</code></td>
<td align="center">è¿”å› Class å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¡¨ç¤ºå£°æ˜ç”±æ­¤ Constructor å¯¹è±¡è¡¨ç¤ºçš„æ„é€ æ–¹æ³•çš„ç±»,å…¶å®å°±æ˜¯è¿”å›çœŸå®ç±»å‹ï¼ˆä¸åŒ…å«å‚æ•°ï¼‰</td>
</tr>
<tr>
<td align="center"><code>Type[]</code></td>
<td align="center"><code>getGenericParameterTypes()</code></td>
<td align="center">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å›ä¸€ç»„ Type å¯¹è±¡ï¼Œè¿”å›çš„å°±æ˜¯ Constructorå¯¹è±¡æ„é€ å‡½æ•°çš„å½¢å‚ç±»å‹ã€‚</td>
</tr>
<tr>
<td align="center"><code>String</code></td>
<td align="center"><code>getName()</code></td>
<td align="center">ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›æ­¤æ„é€ æ–¹æ³•çš„åç§°ã€‚</td>
</tr>
<tr>
<td align="center"><code>Class&lt;?&gt;[]</code></td>
<td align="center"><code>getParameterTypes()</code></td>
<td align="center">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å›ä¸€ç»„ Class å¯¹è±¡ï¼Œå³è¿”å›Constructor å¯¹è±¡æ‰€è¡¨ç¤ºæ„é€ æ–¹æ³•çš„å½¢å‚ç±»å‹</td>
</tr>
<tr>
<td align="center"><code>T</code></td>
<td align="center"><code>newInstance(Object... initargs)</code></td>
<td align="center">ä½¿ç”¨æ­¤ Constructorå¯¹è±¡è¡¨ç¤ºçš„æ„é€ å‡½æ•°æ¥åˆ›å»ºæ–°å®ä¾‹</td>
</tr>
<tr>
<td align="center">String</td>
<td align="center"><code>toGenericString()</code></td>
<td align="center">è¿”å›æè¿°æ­¤ Constructor çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…æ‹¬ç±»å‹å‚æ•°ã€‚</td>
</tr>
</tbody></table>
<p>ä»£ç æ¼”ç¤ºå¦‚ä¸‹ï¼š</p>
<pre><code class="java">Constructor cs3=clazz.getDeclaredConstructor(int.class,String.class);

System.out.println(&quot;-----getDeclaringClass-----&quot;);
Class uclazz=cs3.getDeclaringClass();
//Constructorå¯¹è±¡è¡¨ç¤ºçš„æ„é€ æ–¹æ³•çš„ç±»
System.out.println(&quot;æ„é€ æ–¹æ³•çš„ç±»:&quot;+uclazz.getName());

System.out.println(&quot;-----getGenericParameterTypes-----&quot;);
//å¯¹è±¡è¡¨ç¤ºæ­¤ Constructor å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å½¢å‚ç±»å‹
Type[] tps=cs3.getGenericParameterTypes();
for (Type tp:tps) {
    System.out.println(&quot;å‚æ•°åç§°tp:&quot;+tp);
}
System.out.println(&quot;-----getParameterTypes-----&quot;);
//è·å–æ„é€ å‡½æ•°å‚æ•°ç±»å‹
Class&lt;?&gt; clazzs[] = cs3.getParameterTypes();
for (Class claz:clazzs) {
    System.out.println(&quot;å‚æ•°åç§°:&quot;+claz.getName());
}
System.out.println(&quot;-----getName-----&quot;);
//ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›æ­¤æ„é€ æ–¹æ³•çš„åç§°
System.out.println(&quot;getName:&quot;+cs3.getName());

System.out.println(&quot;-----getoGenericString-----&quot;);
//è¿”å›æè¿°æ­¤ Constructor çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…æ‹¬ç±»å‹å‚æ•°ã€‚
System.out.println(&quot;getoGenericString():&quot;+cs3.toGenericString());
/**
 è¾“å‡ºç»“æœ:
 -----getDeclaringClass-----
 æ„é€ æ–¹æ³•çš„ç±»:reflect.User
 -----getGenericParameterTypes-----
 å‚æ•°åç§°tp:int
 å‚æ•°åç§°tp:class java.lang.String
 -----getParameterTypes-----
 å‚æ•°åç§°:int
 å‚æ•°åç§°:java.lang.String
 -----getName-----
 getName:reflect.User
 -----getoGenericString-----
 getoGenericString():private reflect.User(int,java.lang.String)
 */</code></pre>
<p>å…¶ä¸­å…³äºTypeç±»å‹è¿™é‡Œç®€å•è¯´æ˜ä¸€ä¸‹ï¼ŒType æ˜¯ Java ç¼–ç¨‹è¯­è¨€ä¸­æ‰€æœ‰ç±»å‹çš„å…¬å…±é«˜çº§æ¥å£ã€‚å®ƒä»¬åŒ…æ‹¬åŸå§‹ç±»å‹ã€å‚æ•°åŒ–ç±»å‹ã€æ•°ç»„ç±»å‹ã€ç±»å‹å˜é‡å’ŒåŸºæœ¬ç±»å‹ã€‚</p>
<p><code>getGenericParameterTypes</code>ä¸<code>getParameterTypes</code>éƒ½æ˜¯è·å–æ„æˆå‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œå‰è€…è¿”å›çš„æ˜¯Typeç±»å‹ï¼Œåè€…è¿”å›çš„æ˜¯Classç±»å‹ï¼Œç”±äºTypeé¡¶çº§æ¥å£ï¼ŒClassä¹Ÿå®ç°äº†è¯¥æ¥å£ï¼Œå› æ­¤Classç±»æ˜¯Typeçš„å­ç±»ï¼ŒType è¡¨ç¤ºçš„å…¨éƒ¨ç±»å‹è€Œæ¯ä¸ªClasså¯¹è±¡è¡¨ç¤ºä¸€ä¸ªå…·ä½“ç±»å‹çš„å®ä¾‹ï¼Œå¦‚<code>String.class</code>ä»…ä»£è¡¨Stringç±»å‹ã€‚ç”±æ­¤çœ‹æ¥Typeä¸ Class è¡¨ç¤ºç±»å‹å‡ ä¹æ˜¯ç›¸åŒçš„ï¼Œåªä¸è¿‡ Typeè¡¨ç¤ºçš„èŒƒå›´æ¯”Classè¦å¹¿å¾—å¤šè€Œå·²ã€‚å½“ç„¶Typeè¿˜æœ‰å…¶ä»–å­ç±»ï¼Œå¦‚ï¼š</p>
<ul>
<li><p><code>TypeVariableï¼š</code>è¡¨ç¤ºç±»å‹å‚æ•°ï¼Œå¯ä»¥æœ‰ä¸Šç•Œï¼Œæ¯”å¦‚ï¼šT extends Number</p>
</li>
<li><p><code>ParameterizedTypeï¼š</code>è¡¨ç¤ºå‚æ•°åŒ–çš„ç±»å‹ï¼Œæœ‰åŸå§‹ç±»å‹å’Œå…·ä½“çš„ç±»å‹å‚æ•°ï¼Œæ¯”å¦‚ï¼šList<String></p>
</li>
<li><p><code>WildcardTypeï¼š</code>è¡¨ç¤ºé€šé…ç¬¦ç±»å‹ï¼Œæ¯”å¦‚ï¼š?, ? extends Number, ? super Integer</p>
</li>
</ul>
<p>é€šè¿‡ä»¥ä¸Šçš„åˆ†æï¼Œå¯¹äºConstructorç±»å·²æœ‰æ¯”è¾ƒæ¸…æ™°çš„ç†è§£ï¼Œåˆ©ç”¨å¥½Classç±»å’ŒConstructorç±»ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºä»»æ„å¯¹è±¡ï¼Œä»è€Œçªç ´å¿…é¡»åœ¨ç¼–è¯‘æœŸçŸ¥é“ç¡®åˆ‡ç±»å‹çš„éšœç¢ã€‚</p>
<h4 id="Fieldç±»åŠå…¶ç”¨æ³•"><a href="#Fieldç±»åŠå…¶ç”¨æ³•" class="headerlink" title="Fieldç±»åŠå…¶ç”¨æ³•"></a>Fieldç±»åŠå…¶ç”¨æ³•</h4><p>Field æä¾›æœ‰å…³ç±»æˆ–æ¥å£çš„å•ä¸ªå­—æ®µçš„ä¿¡æ¯ï¼Œä»¥åŠå¯¹å®ƒçš„åŠ¨æ€è®¿é—®æƒé™ã€‚åå°„çš„å­—æ®µå¯èƒ½æ˜¯ä¸€ä¸ªç±»ï¼ˆé™æ€ï¼‰å­—æ®µæˆ–å®ä¾‹å­—æ®µã€‚åŒæ ·çš„é“ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Classç±»çš„æä¾›çš„æ–¹æ³•æ¥è·å–ä»£è¡¨å­—æ®µä¿¡æ¯çš„Fieldå¯¹è±¡ï¼ŒClassç±»ä¸Fieldå¯¹è±¡ç›¸å…³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>Field</code></td>
<td align="center"><code>getDeclaredField(String name)</code></td>
<td align="center">è·å–æŒ‡å®šnameåç§°çš„(åŒ…å«privateä¿®é¥°çš„)å­—æ®µï¼Œä¸åŒ…æ‹¬ç»§æ‰¿çš„å­—æ®µ</td>
</tr>
<tr>
<td align="center"><code>Field[]</code></td>
<td align="center"><code>getDeclaredField()</code></td>
<td align="center">è·å–Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æ‰€æœ‰(åŒ…å«privateä¿®é¥°çš„)å­—æ®µ,ä¸åŒ…æ‹¬ç»§æ‰¿çš„å­—æ®µ</td>
</tr>
<tr>
<td align="center"><code>Field</code></td>
<td align="center"><code>getField(String name)</code></td>
<td align="center">è·å–æŒ‡å®šnameåç§°ã€å…·æœ‰publicä¿®é¥°çš„å­—æ®µï¼ŒåŒ…å«ç»§æ‰¿å­—æ®µ</td>
</tr>
<tr>
<td align="center"><code>Field[]</code></td>
<td align="center"><code>getField()</code></td>
<td align="center">è·å–ä¿®é¥°ç¬¦ä¸ºpublicçš„å­—æ®µï¼ŒåŒ…å«ç»§æ‰¿å­—æ®µ</td>
</tr>
</tbody></table>
<p>ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†ä¸Šè¿°æ–¹æ³•çš„ä½¿ç”¨è¿‡ç¨‹</p>
<pre><code class="java">/**
 * Created by zejian on 2017/5/1.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */
public class ReflectField {

    public static void main(String[] args) throws ClassNotFoundException, NoSuchFieldException {
        Class&lt;?&gt; clazz = Class.forName(&quot;reflect.Student&quot;);
        //è·å–æŒ‡å®šå­—æ®µåç§°çš„Fieldç±»,æ³¨æ„å­—æ®µä¿®é¥°ç¬¦å¿…é¡»ä¸ºpublicè€Œä¸”å­˜åœ¨è¯¥å­—æ®µ,
        // å¦åˆ™æŠ›NoSuchFieldException
        Field field = clazz.getField(&quot;age&quot;);
        System.out.println(&quot;field:&quot;+field);

        //è·å–æ‰€æœ‰ä¿®é¥°ç¬¦ä¸ºpublicçš„å­—æ®µ,åŒ…å«çˆ¶ç±»å­—æ®µ,æ³¨æ„ä¿®é¥°ç¬¦ä¸ºpublicæ‰ä¼šè·å–
        Field fields[] = clazz.getFields();
        for (Field f:fields) {
            System.out.println(&quot;f:&quot;+f.getDeclaringClass());
        }

        System.out.println(&quot;================getDeclaredFields====================&quot;);
        //è·å–å½“å‰ç±»æ‰€å­—æ®µ(åŒ…å«privateå­—æ®µ),æ³¨æ„ä¸åŒ…å«çˆ¶ç±»çš„å­—æ®µ
        Field fields2[] = clazz.getDeclaredFields();
        for (Field f:fields2) {
            System.out.println(&quot;f2:&quot;+f.getDeclaringClass());
        }
        //è·å–æŒ‡å®šå­—æ®µåç§°çš„Fieldç±»,å¯ä»¥æ˜¯ä»»æ„ä¿®é¥°ç¬¦çš„è‡ªåŠ¨,æ³¨æ„ä¸åŒ…å«çˆ¶ç±»çš„å­—æ®µ
        Field field2 = clazz.getDeclaredField(&quot;desc&quot;);
        System.out.println(&quot;field2:&quot;+field2);
    }
    /**
      è¾“å‡ºç»“æœ: 
     field:public int reflect.Person.age
     f:public java.lang.String reflect.Student.desc
     f:public int reflect.Person.age
     f:public java.lang.String reflect.Person.name

     ================getDeclaredFields====================
     f2:public java.lang.String reflect.Student.desc
     f2:private int reflect.Student.score
     field2:public java.lang.String reflect.Student.desc
     */
}

class Person{
    public int age;
    public String name;
    //çœç•¥setå’Œgetæ–¹æ³•
}

class Student extends Person{
    public String desc;
    private int score;
    //çœç•¥setå’Œgetæ–¹æ³•
}</code></pre>
<p>ä¸Šè¿°æ–¹æ³•éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸æœŸæœ›è·å–å…¶çˆ¶ç±»çš„å­—æ®µï¼Œåˆ™éœ€ä½¿ç”¨Classç±»çš„getDeclaredField/getDeclaredFieldsæ–¹æ³•æ¥è·å–å­—æ®µå³å¯ï¼Œå€˜è‹¥éœ€è¦è¿å¸¦è·å–åˆ°çˆ¶ç±»çš„å­—æ®µï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨Classç±»çš„getField/getFieldsï¼Œä½†æ˜¯ä¹Ÿåªèƒ½è·å–åˆ°publicä¿®é¥°çš„çš„å­—æ®µï¼Œæ— æ³•è·å–çˆ¶ç±»çš„ç§æœ‰å­—æ®µã€‚ä¸‹é¢å°†é€šè¿‡Fieldç±»æœ¬èº«çš„æ–¹æ³•å¯¹æŒ‡å®šç±»å±æ€§èµ‹å€¼ï¼Œä»£ç æ¼”ç¤ºå¦‚ä¸‹ï¼š</p>
<pre><code class="java">//è·å–Classå¯¹è±¡å¼•ç”¨
Class&lt;?&gt; clazz = Class.forName(&quot;reflect.Student&quot;);

Student st= (Student) clazz.newInstance();
//è·å–çˆ¶ç±»publicå­—æ®µå¹¶èµ‹å€¼
Field ageField = clazz.getField(&quot;age&quot;);
ageField.set(st,18);
Field nameField = clazz.getField(&quot;name&quot;);
nameField.set(st,&quot;Lily&quot;);

//åªè·å–å½“å‰ç±»çš„å­—æ®µ,ä¸è·å–çˆ¶ç±»çš„å­—æ®µ
Field descField = clazz.getDeclaredField(&quot;desc&quot;);
descField.set(st,&quot;I am student&quot;);
Field scoreField = clazz.getDeclaredField(&quot;score&quot;);
//è®¾ç½®å¯è®¿é—®ï¼Œscoreæ˜¯privateçš„
scoreField.setAccessible(true);
scoreField.set(st,88);
System.out.println(st.toString());

//è¾“å‡ºç»“æœï¼šStudent{age=18, name=&#39;Lily ,desc=&#39;I am student&#39;, score=88} 

//è·å–å­—æ®µå€¼
System.out.println(scoreField.get(st));
// 88</code></pre>
<p>å…¶ä¸­çš„<code>set(Object obj, Object value)</code>æ–¹æ³•æ˜¯Fieldç±»æœ¬èº«çš„æ–¹æ³•ï¼Œç”¨äºè®¾ç½®å­—æ®µçš„å€¼ï¼Œè€Œ<code>get(Object obj)</code>åˆ™æ˜¯è·å–å­—æ®µçš„å€¼ï¼Œå½“ç„¶å…³äºFieldç±»è¿˜æœ‰å…¶ä»–å¸¸ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>void</code></td>
<td align="center"><code>set(Object obj, Object value)</code></td>
<td align="center">å°†æŒ‡å®šå¯¹è±¡å˜é‡ä¸Šæ­¤ Field å¯¹è±¡è¡¨ç¤ºçš„å­—æ®µè®¾ç½®ä¸ºæŒ‡å®šçš„æ–°å€¼ã€‚</td>
</tr>
<tr>
<td align="center"><code>Object</code></td>
<td align="center"><code>get(Object obj)</code></td>
<td align="center">è¿”å›æŒ‡å®šå¯¹è±¡ä¸Šæ­¤ Field è¡¨ç¤ºçš„å­—æ®µçš„å€¼</td>
</tr>
<tr>
<td align="center"><code>Class&lt;?&gt;</code></td>
<td align="center"><code>getType()</code></td>
<td align="center">è¿”å›ä¸€ä¸ª Class å¯¹è±¡ï¼Œå®ƒæ ‡è¯†äº†æ­¤Field å¯¹è±¡æ‰€è¡¨ç¤ºå­—æ®µçš„å£°æ˜ç±»å‹ã€‚</td>
</tr>
<tr>
<td align="center"><code>boolean</code></td>
<td align="center"><code>isEnumConstant()</code></td>
<td align="center">å¦‚æœæ­¤å­—æ®µè¡¨ç¤ºæšä¸¾ç±»å‹çš„å…ƒç´ åˆ™è¿”å› trueï¼›å¦åˆ™è¿”å› false</td>
</tr>
<tr>
<td align="center"><code>String</code></td>
<td align="center"><code>toGenericString()</code></td>
<td align="center">è¿”å›ä¸€ä¸ªæè¿°æ­¤ Fieldï¼ˆåŒ…æ‹¬å…¶ä¸€èˆ¬ç±»å‹ï¼‰çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="center"><code>String</code></td>
<td align="center"><code>getName()</code></td>
<td align="center">è¿”å›æ­¤ Field å¯¹è±¡è¡¨ç¤ºçš„å­—æ®µçš„åç§°</td>
</tr>
<tr>
<td align="center"><code>Class&lt;?&gt;</code></td>
<td align="center"><code>getDeclaringClass()</code></td>
<td align="center">è¿”å›è¡¨ç¤ºç±»æˆ–æ¥å£çš„ Class å¯¹è±¡ï¼Œè¯¥ç±»æˆ–æ¥å£å£°æ˜ç”±æ­¤ Field å¯¹è±¡è¡¨ç¤ºçš„å­—æ®µ</td>
</tr>
<tr>
<td align="center">void</td>
<td align="center">setAccessible(boolean flag)</td>
<td align="center">å°†æ­¤å¯¹è±¡çš„ accessible æ ‡å¿—è®¾ç½®ä¸ºæŒ‡ç¤ºçš„å¸ƒå°”å€¼,å³è®¾ç½®å…¶å¯è®¿é—®æ€§</td>
</tr>
</tbody></table>
<p>ä¸Šè¿°æ–¹æ³•å¯èƒ½æ˜¯è¾ƒä¸ºå¸¸ç”¨çš„ï¼Œäº‹å®ä¸Šåœ¨è®¾ç½®å€¼çš„æ–¹æ³•ä¸Šï¼ŒFieldç±»è¿˜æä¾›äº†ä¸“é—¨é’ˆå¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼Œå¦‚setInt()/getInt()ã€setBoolean()/getBooleanã€setChar()/getChar()ç­‰ç­‰æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¸å…¨éƒ¨åˆ—å‡ºäº†ï¼Œéœ€è¦æ—¶æŸ¥APIæ–‡æ¡£å³å¯ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯è¢«finalå…³é”®å­—ä¿®é¥°çš„Fieldå­—æ®µæ˜¯å®‰å…¨çš„ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥æ¥æ”¶ä»»ä½•ä¿®æ”¹ï¼Œä½†æœ€ç»ˆå…¶å®é™…å€¼æ˜¯ä¸ä¼šå‘ç”Ÿæ”¹å˜çš„ã€‚</p>
<h4 id="Methodç±»åŠå…¶ç”¨æ³•"><a href="#Methodç±»åŠå…¶ç”¨æ³•" class="headerlink" title="Methodç±»åŠå…¶ç”¨æ³•"></a>Methodç±»åŠå…¶ç”¨æ³•</h4><p>Method æä¾›å…³äºç±»æˆ–æ¥å£ä¸Šå•ç‹¬æŸä¸ªæ–¹æ³•ï¼ˆä»¥åŠå¦‚ä½•è®¿é—®è¯¥æ–¹æ³•ï¼‰çš„ä¿¡æ¯ï¼Œæ‰€åæ˜ çš„æ–¹æ³•å¯èƒ½æ˜¯ç±»æ–¹æ³•æˆ–å®ä¾‹æ–¹æ³•ï¼ˆåŒ…æ‹¬æŠ½è±¡æ–¹æ³•ï¼‰ã€‚ä¸‹é¢æ˜¯Classç±»è·å–Methodå¯¹è±¡ç›¸å…³çš„æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>Method</code></td>
<td align="center"><code>getDeclaredMethod(String name, Class&lt;?&gt;... parameterTypes)</code></td>
<td align="center">è¿”å›ä¸€ä¸ªæŒ‡å®šå‚æ•°çš„Methodå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åæ˜ æ­¤ Class å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šå·²å£°æ˜æ–¹æ³•ã€‚</td>
</tr>
<tr>
<td align="center"><code>Method[]</code></td>
<td align="center"><code>getDeclaredMethod()</code></td>
<td align="center">è¿”å› Method å¯¹è±¡çš„ä¸€ä¸ªæ•°ç»„ï¼Œè¿™äº›å¯¹è±¡åæ˜ æ­¤ Class å¯¹è±¡è¡¨ç¤ºçš„ç±»æˆ–æ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å…¬å…±ã€ä¿æŠ¤ã€é»˜è®¤ï¼ˆåŒ…ï¼‰è®¿é—®å’Œç§æœ‰æ–¹æ³•ï¼Œä½†ä¸åŒ…æ‹¬ç»§æ‰¿çš„æ–¹æ³•ã€‚</td>
</tr>
<tr>
<td align="center"><code>Method</code></td>
<td align="center"><code>getMethod(String name, Class&lt;?&gt;... parameterTypes)</code></td>
<td align="center">è¿”å›ä¸€ä¸ª Method å¯¹è±¡ï¼Œå®ƒåæ˜ æ­¤ Class å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„æŒ‡å®šå…¬å…±æˆå‘˜æ–¹æ³•ã€‚</td>
</tr>
<tr>
<td align="center"><code>Method[]</code></td>
<td align="center"><code>getMethods()</code></td>
<td align="center">è¿”å›ä¸€ä¸ªåŒ…å«æŸäº› Method å¯¹è±¡çš„æ•°ç»„ï¼Œè¿™äº›å¯¹è±¡åæ˜ æ­¤ Class å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£ï¼ˆåŒ…æ‹¬é‚£äº›ç”±è¯¥ç±»æˆ–æ¥å£å£°æ˜çš„ä»¥åŠä»è¶…ç±»å’Œè¶…æ¥å£ç»§æ‰¿çš„é‚£äº›çš„ç±»æˆ–æ¥å£ï¼‰çš„å…¬å…± member æ–¹æ³•ã€‚</td>
</tr>
</tbody></table>
<p>åŒæ ·é€šè¿‡æ¡ˆä¾‹æ¼”ç¤ºä¸Šè¿°æ–¹æ³•ï¼š</p>
<pre><code class="java">import java.lang.reflect.Method;

/**
 * Created by zejian on 2017/5/1.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */
public class ReflectMethod  {


    public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException {

        Class clazz = Class.forName(&quot;reflect.Circle&quot;);

        //æ ¹æ®å‚æ•°è·å–publicçš„Method,åŒ…å«ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ–¹æ³•
        Method method = clazz.getMethod(&quot;draw&quot;,int.class,String.class);

        System.out.println(&quot;method:&quot;+method);

        //è·å–æ‰€æœ‰publicçš„æ–¹æ³•:
        Method[] methods =clazz.getMethods();
        for (Method m:methods){
            System.out.println(&quot;m::&quot;+m);
        }

        System.out.println(&quot;=========================================&quot;);

        //è·å–å½“å‰ç±»çš„æ–¹æ³•åŒ…å«private,è¯¥æ–¹æ³•æ— æ³•è·å–ç»§æ‰¿è‡ªçˆ¶ç±»çš„method
        Method method1 = clazz.getDeclaredMethod(&quot;drawCircle&quot;);
        System.out.println(&quot;method1::&quot;+method1);
        //è·å–å½“å‰ç±»çš„æ‰€æœ‰æ–¹æ³•åŒ…å«private,è¯¥æ–¹æ³•æ— æ³•è·å–ç»§æ‰¿è‡ªçˆ¶ç±»çš„method
        Method[] methods1=clazz.getDeclaredMethods();
        for (Method m:methods1){
            System.out.println(&quot;m1::&quot;+m);
        }
    }

/**
     è¾“å‡ºç»“æœ:
     method:public void reflect.Shape.draw(int,java.lang.String)

     m::public int reflect.Circle.getAllCount()
     m::public void reflect.Shape.draw()
     m::public void reflect.Shape.draw(int,java.lang.String)
     m::public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
     m::public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
     m::public final void java.lang.Object.wait() throws java.lang.InterruptedException
     m::public boolean java.lang.Object.equals(java.lang.Object)
     m::public java.lang.String java.lang.Object.toString()
     m::public native int java.lang.Object.hashCode()
     m::public final native java.lang.Class java.lang.Object.getClass()
     m::public final native void java.lang.Object.notify()
     m::public final native void java.lang.Object.notifyAll()

     =========================================
     method1::private void reflect.Circle.drawCircle()

     m1::public int reflect.Circle.getAllCount()
     m1::private void reflect.Circle.drawCircle()
     */
}

class Shape {
    public void draw(){
        System.out.println(&quot;draw&quot;);
    }

    public void draw(int count , String name){
        System.out.println(&quot;draw &quot;+ name +&quot;,count=&quot;+count);
    }

}
class Circle extends Shape{

    private void drawCircle(){
        System.out.println(&quot;drawCircle&quot;);
    }
    public int getAllCount(){
        return 100;
    }
}</code></pre>
<p>åœ¨é€šè¿‡getMethodsæ–¹æ³•è·å–Methodå¯¹è±¡æ—¶ï¼Œä¼šæŠŠçˆ¶ç±»çš„æ–¹æ³•ä¹Ÿè·å–åˆ°ï¼Œå¦‚ä¸Šçš„è¾“å‡ºç»“æœï¼ŒæŠŠObjectç±»çš„æ–¹æ³•éƒ½æ‰“å°å‡ºæ¥äº†ã€‚è€ŒgetDeclaredMethod/getDeclaredMethodsæ–¹æ³•éƒ½åªèƒ½è·å–å½“å‰ç±»çš„æ–¹æ³•ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶æ ¹æ®æƒ…å†µé€‰æ‹©å³å¯ã€‚ä¸‹é¢å°†æ¼”ç¤ºé€šè¿‡Methodå¯¹è±¡è°ƒç”¨æŒ‡å®šç±»çš„æ–¹æ³•ï¼š</p>
<pre><code class="java">Class clazz = Class.forName(&quot;reflect.Circle&quot;);
//åˆ›å»ºå¯¹è±¡
Circle circle = (Circle) clazz.newInstance();

//è·å–æŒ‡å®šå‚æ•°çš„æ–¹æ³•å¯¹è±¡Method
Method method = clazz.getMethod(&quot;draw&quot;,int.class,String.class);

//é€šè¿‡Methodå¯¹è±¡çš„invoke(Object obj,Object... args)æ–¹æ³•è°ƒç”¨
method.invoke(circle,15,&quot;åœˆåœˆ&quot;);

//å¯¹ç§æœ‰æ— å‚æ–¹æ³•çš„æ“ä½œ
Method method1 = clazz.getDeclaredMethod(&quot;drawCircle&quot;);
//ä¿®æ”¹ç§æœ‰æ–¹æ³•çš„è®¿é—®æ ‡è¯†
method1.setAccessible(true);
method1.invoke(circle);

//å¯¹æœ‰è¿”å›å€¼å¾—æ–¹æ³•æ“ä½œ
Method method2 =clazz.getDeclaredMethod(&quot;getAllCount&quot;);
Integer count = (Integer) method2.invoke(circle);
System.out.println(&quot;count:&quot;+count);

/**
    è¾“å‡ºç»“æœ:
    draw åœˆåœˆ,count=15
    drawCircle
    count:100
*/</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­è°ƒç”¨æ–¹æ³•ï¼Œä½¿ç”¨äº†Methodç±»çš„<code>invoke(Object obj,Object... args)</code>ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨è°ƒç”¨çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ é€’çš„è°ƒç”¨æ–¹æ³•çš„å‚æ•°ã€‚è¿™æ ·å°±å®Œæˆäº†ç±»æ–¹æ³•çš„åŠ¨æ€è°ƒç”¨ã€‚</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>Object</code></td>
<td align="center"><code>invoke(Object obj, Object... args)</code></td>
<td align="center">å¯¹å¸¦æœ‰æŒ‡å®šå‚æ•°çš„æŒ‡å®šå¯¹è±¡è°ƒç”¨ç”±æ­¤ Method å¯¹è±¡è¡¨ç¤ºçš„åº•å±‚æ–¹æ³•ã€‚</td>
</tr>
<tr>
<td align="center"><code>Class&lt;?&gt;</code></td>
<td align="center"><code>getReturnType()</code></td>
<td align="center">è¿”å›ä¸€ä¸ª Class å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æè¿°äº†æ­¤ Method å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„æ­£å¼è¿”å›ç±»å‹,å³æ–¹æ³•çš„è¿”å›ç±»å‹</td>
</tr>
<tr>
<td align="center">Type</td>
<td align="center"><code>getGenericReturnType()</code></td>
<td align="center">è¿”å›è¡¨ç¤ºç”±æ­¤ Method å¯¹è±¡æ‰€è¡¨ç¤ºæ–¹æ³•çš„æ­£å¼è¿”å›ç±»å‹çš„ Type å¯¹è±¡ï¼Œä¹Ÿæ˜¯æ–¹æ³•çš„è¿”å›ç±»å‹ã€‚</td>
</tr>
<tr>
<td align="center"><code>Class&lt;?&gt;[]</code></td>
<td align="center"><code>getParameterTypes()</code></td>
<td align="center">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å› Class å¯¹è±¡çš„æ•°ç»„ï¼Œè¿™äº›å¯¹è±¡æè¿°äº†æ­¤ Method å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å½¢å‚ç±»å‹ã€‚å³è¿”å›æ–¹æ³•çš„å‚æ•°ç±»å‹ç»„æˆçš„æ•°ç»„</td>
</tr>
<tr>
<td align="center"><code>Type[]</code></td>
<td align="center"><code>getGenericParameterTypes()</code></td>
<td align="center">æŒ‰ç…§å£°æ˜é¡ºåºè¿”å› Type å¯¹è±¡çš„æ•°ç»„ï¼Œè¿™äº›å¯¹è±¡æè¿°äº†æ­¤ Method å¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å½¢å‚ç±»å‹çš„ï¼Œä¹Ÿæ˜¯è¿”å›æ–¹æ³•çš„å‚æ•°ç±»å‹</td>
</tr>
<tr>
<td align="center"><code>String</code></td>
<td align="center"><code>getName()</code></td>
<td align="center">ä»¥ String å½¢å¼è¿”å›æ­¤ Method å¯¹è±¡è¡¨ç¤ºçš„æ–¹æ³•åç§°ï¼Œå³è¿”å›æ–¹æ³•çš„åç§°</td>
</tr>
<tr>
<td align="center"><code>boolean</code></td>
<td align="center"><code>isVarArgs()</code></td>
<td align="center">åˆ¤æ–­æ–¹æ³•æ˜¯å¦å¸¦å¯å˜å‚æ•°ï¼Œå¦‚æœå°†æ­¤æ–¹æ³•å£°æ˜ä¸ºå¸¦æœ‰å¯å˜æ•°é‡çš„å‚æ•°ï¼Œåˆ™è¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚</td>
</tr>
<tr>
<td align="center"><code>String</code></td>
<td align="center"><code>toGenericString()</code></td>
<td align="center">è¿”å›æè¿°æ­¤ Method çš„å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬ç±»å‹å‚æ•°ã€‚</td>
</tr>
</tbody></table>
<p>getReturnTypeæ–¹æ³•/getGenericReturnTypeæ–¹æ³•éƒ½æ˜¯è·å–Methodå¯¹è±¡è¡¨ç¤ºçš„<strong>æ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œ</strong>åªä¸è¿‡å‰è€…è¿”å›çš„Classç±»å‹åè€…è¿”å›çš„Type(å‰é¢å·²åˆ†æè¿‡)ï¼ŒTypeå°±æ˜¯ä¸€ä¸ªæ¥å£è€Œå·²ï¼Œåœ¨Java8ä¸­æ–°å¢ä¸€ä¸ªé»˜è®¤çš„æ–¹æ³•å®ç°ï¼Œè¿”å›çš„å°±å‚æ•°ç±»å‹ä¿¡æ¯</p>
<pre><code class="java">public interface Type {
    //1.8æ–°å¢
    default String getTypeName() {
        return toString();
    }
}</code></pre>
<p>è€ŒgetParameterTypes/getGenericParameterTypesä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œéƒ½æ˜¯è·å–Methodå¯¹è±¡æ‰€è¡¨ç¤ºçš„æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œå…¶ä»–æ–¹æ³•ä¸å‰é¢çš„Fieldå’ŒConstructoræ˜¯ç±»ä¼¼çš„ã€‚</p>
<h4 id="åå°„åŒ…ä¸­çš„Arrayç±»"><a href="#åå°„åŒ…ä¸­çš„Arrayç±»" class="headerlink" title="åå°„åŒ…ä¸­çš„Arrayç±»"></a>åå°„åŒ…ä¸­çš„Arrayç±»</h4><p>åœ¨Javaçš„<code>java.lang.reflect</code>åŒ…ä¸­å­˜åœ¨ç€ä¸€ä¸ªå¯ä»¥åŠ¨æ€æ“ä½œæ•°ç»„çš„ç±»ï¼ŒArrayï¼Œå®ƒæä¾›äº†åŠ¨æ€åˆ›å»ºå’Œè®¿é—® Java æ•°ç»„çš„æ–¹æ³•ã€‚Array å…è®¸åœ¨æ‰§è¡Œ get æˆ– set æ“ä½œè¿›è¡Œå–å€¼å’Œèµ‹å€¼ã€‚åœ¨Classç±»ä¸­ä¸æ•°ç»„å…³è”çš„æ–¹æ³•æ˜¯ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>Class&lt;?&gt;</code></td>
<td align="center"><code>getComponentType()</code></td>
<td align="center">è¿”å›è¡¨ç¤ºæ•°ç»„å…ƒç´ ç±»å‹çš„ Classï¼Œå³æ•°ç»„çš„ç±»å‹</td>
</tr>
<tr>
<td align="center"><code>boolean</code></td>
<td align="center"><code>isArray()</code></td>
<td align="center">åˆ¤å®šæ­¤ Class å¯¹è±¡æ˜¯å¦è¡¨ç¤ºä¸€ä¸ªæ•°ç»„ç±»ã€‚</td>
</tr>
</tbody></table>
<p>java.lang.reflect.Arrayä¸­çš„å¸¸ç”¨é™æ€æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•è¿”å›å€¼</th>
<th align="center">æ–¹æ³•åç§°</th>
<th align="center">æ–¹æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>static Object</code></td>
<td align="center"><code>set(Object array, int index)</code></td>
<td align="center">è¿”å›æŒ‡å®šæ•°ç»„å¯¹è±¡ä¸­ç´¢å¼•ç»„ä»¶çš„å€¼ã€‚</td>
</tr>
<tr>
<td align="center"><code>static int</code></td>
<td align="center"><code>getLength(Object array)</code></td>
<td align="center">ä»¥ int å½¢å¼è¿”å›æŒ‡å®šæ•°ç»„å¯¹è±¡çš„é•¿åº¦</td>
</tr>
<tr>
<td align="center"><code>static object</code></td>
<td align="center"><code>newInstance(Class&lt;?&gt; componentType, int... dimensions)</code></td>
<td align="center">åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šç±»å‹å’Œç»´åº¦çš„æ–°æ•°ç»„ã€‚</td>
</tr>
<tr>
<td align="center"><code>static Object</code></td>
<td align="center"><code>newInstance(Class&lt;?&gt; componentType, int length)</code></td>
<td align="center">åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šçš„ç»„ä»¶ç±»å‹å’Œé•¿åº¦çš„æ–°æ•°ç»„ã€‚</td>
</tr>
<tr>
<td align="center"><code>static void</code></td>
<td align="center"><code>set(Object array, int index, Object value)</code></td>
<td align="center">å°†æŒ‡å®šæ•°ç»„å¯¹è±¡ä¸­ç´¢å¼•ç»„ä»¶çš„å€¼è®¾ç½®ä¸ºæŒ‡å®šçš„æ–°å€¼ã€‚</td>
</tr>
</tbody></table>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•ä¾‹å­æ¥æ¼”ç¤ºè¿™äº›æ–¹æ³•</p>
<pre><code class="java">package reflect;

import java.lang.reflect.Array;

/**
 * Created by zejian on 2017/5/1.
 * Blog : http://blog.csdn.net/javazejian [åŸæ–‡åœ°å€,è¯·å°Šé‡åŸåˆ›]
 */
public class ReflectArray {

    public static void main(String[] args) throws ClassNotFoundException {
        int[] array = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };
        //è·å–æ•°ç»„ç±»å‹çš„Class å³int.class
        Class&lt;?&gt; clazz = array.getClass().getComponentType();
        //åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šçš„ç»„ä»¶ç±»å‹å’Œé•¿åº¦çš„æ–°æ•°ç»„ã€‚
        //ç¬¬ä¸€ä¸ªå‚æ•°:æ•°ç»„çš„ç±»å‹,ç¬¬äºŒä¸ªå‚æ•°:æ•°ç»„çš„é•¿åº¦
        Object newArr = Array.newInstance(clazz, 15);
        //è·å–åŸæ•°ç»„çš„é•¿åº¦
        int co = Array.getLength(array);
        //èµ‹å€¼åŸæ•°ç»„åˆ°æ–°æ•°ç»„
        System.arraycopy(array, 0, newArr, 0, co);
        for (int i:(int[]) newArr) {
            System.out.print(i+&quot;,&quot;);
        }

        //åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º10 çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œ
        //æ¥ç€æŠŠç´¢å¼•ä½ç½®ä¸º6 çš„å…ƒç´ è®¾ä¸º&quot;hello world!&quot;ï¼Œç„¶åå†è¯»å–ç´¢å¼•ä½ç½®ä¸º6 çš„å…ƒç´ çš„å€¼
        Class clazz2 = Class.forName(&quot;java.lang.String&quot;);

        //åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œåœ¨Javaä¸­æ•°ç»„ä¹Ÿå¯ä»¥ä½œä¸ºObjectå¯¹è±¡
        Object array2 = Array.newInstance(clazz2, 10);

        //æŠŠå­—ç¬¦ä¸²æ•°ç»„å¯¹è±¡çš„ç´¢å¼•ä½ç½®ä¸º6çš„å…ƒç´ è®¾ç½®ä¸º&quot;hello&quot;
        Array.set(array2, 6, &quot;hello world!&quot;);

        //è·å¾—å­—ç¬¦ä¸²æ•°ç»„å¯¹è±¡çš„ç´¢å¼•ä½ç½®ä¸º5çš„å…ƒç´ çš„å€¼
        String str = (String)Array.get(array2, 6);
        System.out.println();
        System.out.println(str);//hello
    }
    /**
     è¾“å‡ºç»“æœ:
     1,2,3,4,5,6,7,8,9,0,0,0,0,0,0,
     hello world!
     */
}</code></pre>
<p>é€šè¿‡ä¸Šè¿°ä»£ç æ¼”ç¤ºï¼Œç¡®å®å¯ä»¥åˆ©ç”¨Arrayç±»å’Œåå°„ç›¸ç»“åˆåŠ¨æ€åˆ›å»ºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–å’Œè®¾ç½®æ•°ç»„ä¸­å…ƒç´ çš„å€¼ï¼Œå…¶å®é™¤äº†ä¸Šçš„set/getå¤–Arrayè¿˜ä¸“é—¨ä¸º8ç§åŸºæœ¬æ•°æ®ç±»å‹æä¾›ç‰¹æœ‰çš„æ–¹æ³•ï¼Œå¦‚setInt/getIntã€setBoolean/getBooleanï¼Œå…¶ä»–ä¾æ¬¡ç±»æ¨ï¼Œéœ€è¦ä½¿ç”¨æ˜¯å¯ä»¥æŸ¥çœ‹APIæ–‡æ¡£å³å¯ã€‚é™¤äº†ä¸Šè¿°åŠ¨æ€ä¿®æ”¹æ•°ç»„é•¿åº¦æˆ–è€…åŠ¨æ€åˆ›å»ºæ•°ç»„æˆ–åŠ¨æ€è·å–å€¼æˆ–è®¾ç½®å€¼å¤–ï¼Œå¯ä»¥åˆ©ç”¨æ³›å‹åŠ¨æ€åˆ›å»ºæ³›å‹æ•°ç»„å¦‚ä¸‹ï¼š</p>
<pre><code class="java">/**
  * æ¥æ”¶ä¸€ä¸ªæ³›å‹æ•°ç»„ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸æ¥æ”¶çš„æ•°ç»„é•¿åº¦ä¸€æ ·çš„æ³›å‹æ•°ç»„ï¼Œ
  * å¹¶æŠŠæ¥æ”¶çš„æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°åˆ›å»ºçš„æ•°ç»„ä¸­ï¼Œ
  * æœ€åæ‰¾å‡ºæ–°æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ ï¼Œå¹¶æ‰“å°å‡ºæ¥
  * @param a
  * @param &lt;T&gt;
  */
 public  &lt;T extends Comparable&lt;T&gt;&gt; void min(T[] a) {
     //é€šè¿‡åå°„åˆ›å»ºç›¸åŒç±»å‹çš„æ•°ç»„
     T[] b = (T[]) Array.newInstance(a.getClass().getComponentType(), a.length);
     for (int i = 0; i &lt; a.length; i++) {
         b[i] = a[i];
     }
     T min = null;
     boolean flag = true;
     for (int i = 0; i &lt; b.length; i++) {
         if (flag) {
             min = b[i];
             flag = false;
         }
         if (b[i].compareTo(min) &lt; 0) {
             min = b[i];
         }
     }
     System.out.println(min);
 }</code></pre>
<p>æ¯•ç«Ÿæˆ‘ä»¬æ— æ³•ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„ï¼Œæœ‰äº†Arrayçš„åŠ¨æ€åˆ›å»ºæ•°ç»„çš„æ–¹å¼è¿™ä¸ªé—®é¢˜ä¹Ÿå°±è¿åˆƒè€Œè§£äº†ã€‚</p>
<pre><code class="java">//æ— æ•ˆè¯­å¥ï¼Œç¼–è¯‘ä¸é€š
T[] a = new T[];</code></pre>
<p>ok~ï¼Œåˆ°è¿™åå°„ä¸­å‡ ä¸ªé‡è¦å¹¶ä¸”å¸¸ç”¨çš„ç±»æˆ‘ä»¬éƒ½åŸºæœ¬ä»‹ç»å®Œäº†ï¼Œä½†æ›´é‡è¦æ˜¯ï¼Œæˆ‘ä»¬åº”è¯¥è®¤è¯†åˆ°åå°„æœºåˆ¶å¹¶æ²¡æœ‰ä»€ä¹ˆç¥å¥‡ä¹‹å¤„ã€‚å½“é€šè¿‡åå°„ä¸ä¸€ä¸ªæœªçŸ¥ç±»å‹çš„å¯¹è±¡æ‰“äº¤é“æ—¶ï¼ŒJVMåªä¼šç®€å•åœ°æ£€æŸ¥è¿™ä¸ªå¯¹è±¡ï¼Œåˆ¤æ–­è¯¥å¯¹è±¡å±äºé‚£ç§ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿåº”è¯¥çŸ¥é“ï¼Œåœ¨ä½¿ç”¨åå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡å‰ï¼Œ<strong>å¿…é¡»ç¡®ä¿å·²åŠ è½½äº†è¿™ä¸ªç±»çš„Classå¯¹è±¡ï¼Œ</strong>å½“ç„¶è¿™ç‚¹å®Œå…¨ä¸å¿…ç”±æˆ‘ä»¬æ“ä½œï¼Œæ¯•ç«Ÿåªèƒ½JVMåŠ è½½ï¼Œä½†å¿…é¡»ç¡®ä¿è¯¥ç±»çš„â€.classâ€æ–‡ä»¶å·²å­˜åœ¨å¹¶ä¸”JVMèƒ½å¤Ÿæ­£ç¡®æ‰¾åˆ°ã€‚å…³äºClassç±»çš„æ–¹æ³•åœ¨å‰é¢æˆ‘ä»¬åªæ˜¯åˆ†æäº†ä¸»è¦çš„ä¸€äº›æ–¹æ³•ï¼Œå…¶å®Classç±»çš„APIæ–¹æ³•æŒºå¤šçš„ï¼Œå»ºè®®æŸ¥çœ‹ä¸€ä¸‹APIæ–‡æ¡£ï¼Œæµè§ˆä¸€éï¼Œæœ‰ä¸ªå°è±¡ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œè¿™é‡Œä»…åˆ—å‡ºå‰é¢æ²¡æœ‰ä»‹ç»è¿‡åˆå¯èƒ½ç”¨åˆ°çš„APIï¼š</p>
<pre><code class="java"> /** 
  *    ä¿®é¥°ç¬¦ã€çˆ¶ç±»ã€å®ç°çš„æ¥å£ã€æ³¨è§£ç›¸å…³ 
  */

//è·å–ä¿®é¥°ç¬¦ï¼Œè¿”å›å€¼å¯é€šè¿‡Modifierç±»è¿›è¡Œè§£è¯»
public native int getModifiers();
//è·å–çˆ¶ç±»ï¼Œå¦‚æœä¸ºObjectï¼Œçˆ¶ç±»ä¸ºnull
public native Class&lt;? super T&gt; getSuperclass();
//å¯¹äºç±»ï¼Œä¸ºè‡ªå·±å£°æ˜å®ç°çš„æ‰€æœ‰æ¥å£ï¼Œå¯¹äºæ¥å£ï¼Œä¸ºç›´æ¥æ‰©å±•çš„æ¥å£ï¼Œä¸åŒ…æ‹¬é€šè¿‡çˆ¶ç±»é—´æ¥ç»§æ‰¿æ¥çš„
public native Class&lt;?&gt;[] getInterfaces();
//è‡ªå·±å£°æ˜çš„æ³¨è§£
public Annotation[] getDeclaredAnnotations();
//æ‰€æœ‰çš„æ³¨è§£ï¼ŒåŒ…æ‹¬ç»§æ‰¿å¾—åˆ°çš„
public Annotation[] getAnnotations();
//è·å–æˆ–æ£€æŸ¥æŒ‡å®šç±»å‹çš„æ³¨è§£ï¼ŒåŒ…æ‹¬ç»§æ‰¿å¾—åˆ°çš„
public &lt;A extends Annotation&gt; A getAnnotation(Class&lt;A&gt; annotationClass);
public boolean isAnnotationPresent(Class&lt;? extends Annotation&gt; annotationClass);

/** 
  *   å†…éƒ¨ç±»ç›¸å…³
  */
//è·å–æ‰€æœ‰çš„publicçš„å†…éƒ¨ç±»å’Œæ¥å£ï¼ŒåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„
public Class&lt;?&gt;[] getClasses();
//è·å–è‡ªå·±å£°æ˜çš„æ‰€æœ‰çš„å†…éƒ¨ç±»å’Œæ¥å£
public Class&lt;?&gt;[] getDeclaredClasses();
//å¦‚æœå½“å‰Classä¸ºå†…éƒ¨ç±»ï¼Œè·å–å£°æ˜è¯¥ç±»çš„æœ€å¤–éƒ¨çš„Classå¯¹è±¡
public Class&lt;?&gt; getDeclaringClass();
//å¦‚æœå½“å‰Classä¸ºå†…éƒ¨ç±»ï¼Œè·å–ç›´æ¥åŒ…å«è¯¥ç±»çš„ç±»
public Class&lt;?&gt; getEnclosingClass();
//å¦‚æœå½“å‰Classä¸ºæœ¬åœ°ç±»æˆ–åŒ¿åå†…éƒ¨ç±»ï¼Œè¿”å›åŒ…å«å®ƒçš„æ–¹æ³•
public Method getEnclosingMethod();

/** 
  *    Classå¯¹è±¡ç±»å‹åˆ¤æ–­ç›¸å…³
  */
//æ˜¯å¦æ˜¯æ•°ç»„
public native boolean isArray();  
//æ˜¯å¦æ˜¯åŸºæœ¬ç±»å‹
public native boolean isPrimitive();
//æ˜¯å¦æ˜¯æ¥å£
public native boolean isInterface();
//æ˜¯å¦æ˜¯æšä¸¾
public boolean isEnum();
//æ˜¯å¦æ˜¯æ³¨è§£
public boolean isAnnotation();
//æ˜¯å¦æ˜¯åŒ¿åå†…éƒ¨ç±»
public boolean isAnonymousClass();
//æ˜¯å¦æ˜¯æˆå‘˜ç±»
public boolean isMemberClass();
//æ˜¯å¦æ˜¯æœ¬åœ°ç±»
public boolean isLocalClass(); </code></pre>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 729535228@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">èµ</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">æ–‡ç« æ ‡é¢˜:</span>æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</p>
    <p><span class="copy-title">æ–‡ç« å­—æ•°:</span><span class="post-count">11.7k</span></p>
    <p><span class="copy-title">æœ¬æ–‡ä½œè€…:</span><a  title="Ocean Bai">Ocean Bai</a></p>
    <p><span class="copy-title">å‘å¸ƒæ—¶é—´:</span>2020-02-12, 21:41:31</p>
    <p><span class="copy-title">æœ€åæ›´æ–°:</span>2020-02-12, 21:35:54</p>
    <span class="copy-title">åŸå§‹é“¾æ¥:</span><a class="post-url" href="/2020/02/12/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF(Class%E5%AF%B9%E8%B1%A1)%E4%B8%8E%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" title="æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶">http://yoursite.com/2020/02/12/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF(Class%E5%AF%B9%E8%B1%A1)%E4%B8%8E%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/</a>
    <p>
        <span class="copy-title">ç‰ˆæƒå£°æ˜:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
    </p>
</div>








    </div>
    <div class="copyright">
        <p class="footer-entry">Â©2019-2019 Ocean</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">ç›®å½•</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>å–œæ¬¢å°±ç‚¹èµ,ç–¼çˆ±å°±æ‰“èµ</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">æ”¯ä»˜å®</label></span><span><label><input type="radio" name="pay" value="weixin">å¾®ä¿¡</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*ä½œè€…ã€æ ‡ç­¾çš„è‡ªåŠ¨è¡¥å…¨*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#åƒåœ¾','#ç®—æ³•','#ç±»åŠ è½½å™¨','#åå°„','#æ¨¡å¼','#è®¾è®¡','#é¢è¯•',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
        /* æ¸²æŸ“*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
