<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>CGlibåŠ¨æ€ä»£ç†æºç  | å¿ƒæ— è¿·æƒ˜</title>
  <meta name="keywords" content=" åŠ¨æ€ä»£ç† ">
  <meta name="description" content="CGlibåŠ¨æ€ä»£ç†æºç  | å¿ƒæ— è¿·æƒ˜">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="11æœˆçš„æœ€åä¸€å¤©ï¼Œå³æ—¶ç»“æŸåˆæ˜¯å¼€å§‹ã€‚å¸Œæœ›æˆ‘ä»¬éƒ½èƒ½å¤ŸåŠªåŠ›å­¦ä¹ ï¼ŒåšæŒä¸æ‡ˆçš„å»è¿½é€è‡ªå·±çš„æ¢¦æƒ³ã€‚å¤ä¹‹ç«‹å¤§äº‹è€…ï¼Œä¸æƒŸæœ‰è¶…ä¸–ä¹‹æ‰ï¼Œäº¦å¿…æœ‰åšå¿ä¸æ‹”ä¹‹å¿— å¿ƒå­˜è¿·æƒ˜ åˆ™æ— æ³•ç»§ç»­å‰è¡ŒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ª">
<meta property="og:type" content="website">
<meta property="og:title" content="å…³äº">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;about&#x2F;index.html">
<meta property="og:site_name" content="å¿ƒæ— è¿·æƒ˜">
<meta property="og:description" content="11æœˆçš„æœ€åä¸€å¤©ï¼Œå³æ—¶ç»“æŸåˆæ˜¯å¼€å§‹ã€‚å¸Œæœ›æˆ‘ä»¬éƒ½èƒ½å¤ŸåŠªåŠ›å­¦ä¹ ï¼ŒåšæŒä¸æ‡ˆçš„å»è¿½é€è‡ªå·±çš„æ¢¦æƒ³ã€‚å¤ä¹‹ç«‹å¤§äº‹è€…ï¼Œä¸æƒŸæœ‰è¶…ä¸–ä¹‹æ‰ï¼Œäº¦å¿…æœ‰åšå¿ä¸æ‹”ä¹‹å¿— å¿ƒå­˜è¿·æƒ˜ åˆ™æ— æ³•ç»§ç»­å‰è¡ŒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ§ğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ª">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-02-15T13:29:23.087Z">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1" ></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.0.1" ></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value="">
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Ocean Bai</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/oceanbai" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active">å…¨éƒ¨æ–‡ç« <small>(33)</small></div></li>
    
        
            
            <li><div data-rel="Spring">Spring<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="dubbo">dubbo<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="è®¾è®¡åŸåˆ™">è®¾è®¡åŸåˆ™<small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="é¢è¯•">é¢è¯•<small>(4)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="javaåŸºç¡€">javaåŸºç¡€<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="è®¾è®¡æ¨¡å¼">è®¾è®¡æ¨¡å¼<small>(6)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="ç®—æ³•">ç®—æ³•<small>(4)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="JDK">JDK<small>(4)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">å…³äº</a><a style="width: 50%"  class="friends">å‹é“¾</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="33">
<input type="hidden" id="yelog_site_word_count" value="115.4k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        å‹æƒ…é“¾æ¥
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="Search..." autocomplete="off"id="local-search-input" >
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color4">AOP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">åŠ¨æ€ä»£ç†</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">è®¾è®¡åŸåˆ™</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SPI</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">é¢è¯•</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">æ€»ç»“é¢è¯•</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">ç±»åŠ è½½å™¨</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">åƒåœ¾</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">è®¾è®¡æ¨¡å¼</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">å·¥å‚æ¨¡å¼</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">åå°„</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">ç®—æ³•</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">ç¼“å­˜</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">çº¿ç¨‹æ± </a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">ThreadLocal</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a  class="Spring "
           href="/2020/02/20/Spring/AOP/"
           data-tag="AOP"
           data-author="" >
            <span class="post-title" title="Spring AOP ç®€å•æµç¨‹ä¸ä½¿ç”¨">Spring AOP ç®€å•æµç¨‹ä¸ä½¿ç”¨</span>
            <span class="post-date" title="2020-02-20 15:41:31">2020/02/20</span>
        </a>
        
        <a  class="JDK "
           href="/2020/02/19/java/JDK/CGlib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/"
           data-tag="åŠ¨æ€ä»£ç†"
           data-author="" >
            <span class="post-title" title="CGlibåŠ¨æ€ä»£ç†æºç ">CGlibåŠ¨æ€ä»£ç†æºç </span>
            <span class="post-date" title="2020-02-19 16:41:31">2020/02/19</span>
        </a>
        
        <a  class="JDK "
           href="/2020/02/19/java/JDK/JDK%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%BA%90%E7%A0%81/"
           data-tag="åŠ¨æ€ä»£ç†"
           data-author="" >
            <span class="post-title" title="JDKåŠ¨æ€ä»£ç†æºç ">JDKåŠ¨æ€ä»£ç†æºç </span>
            <span class="post-date" title="2020-02-19 16:41:31">2020/02/19</span>
        </a>
        
        <a  class="JDK "
           href="/2020/02/19/java/JDK/ThreadLocal%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"
           data-tag="ThreadLocal"
           data-author="" >
            <span class="post-title" title="ThreadLocalæºç è§£æ">ThreadLocalæºç è§£æ</span>
            <span class="post-date" title="2020-02-19 09:41:31">2020/02/19</span>
        </a>
        
        <a  class="é¢è¯• "
           href="/2020/02/18/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E6%8A%80%E6%9C%AF%E6%A0%88/"
           data-tag="é¢è¯•,æ€»ç»“é¢è¯•"
           data-author="" >
            <span class="post-title" title="é¢è¯•æŠ€æœ¯æ ˆ">é¢è¯•æŠ€æœ¯æ ˆ</span>
            <span class="post-date" title="2020-02-18 16:41:32">2020/02/18</span>
        </a>
        
        <a  class="dubbo "
           href="/2020/02/17/dubbo/dubboSPI/"
           data-tag="SPI"
           data-author="" >
            <span class="post-title" title="dubboSPIè¯¦è§£">dubboSPIè¯¦è§£</span>
            <span class="post-date" title="2020-02-17 14:41:31">2020/02/17</span>
        </a>
        
        <a  class="é¢è¯• "
           href="/2020/02/17/%E9%9D%A2%E8%AF%95/%E7%BE%8E%E5%9B%A2%E7%A0%94%E7%A9%B6%E7%94%9F%E5%AE%9E%E4%B9%A0%E7%94%9F/"
           data-tag="é¢è¯•"
           data-author="" >
            <span class="post-title" title="ç¾å›¢ç ”ç©¶ç”Ÿå®ä¹ ç”Ÿ">ç¾å›¢ç ”ç©¶ç”Ÿå®ä¹ ç”Ÿ</span>
            <span class="post-date" title="2020-02-17 11:41:31">2020/02/17</span>
        </a>
        
        <a  class=""
           href="/2020/02/17/%E7%AE%97%E6%B3%95/%E5%9F%BA%E6%9C%AC%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ç®—æ³•/åŸºæœ¬æ’åºç®—æ³•">ç®—æ³•/åŸºæœ¬æ’åºç®—æ³•</span>
            <span class="post-date" title="2020-02-17 10:46:52">2020/02/17</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/15/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/"
           data-tag="è®¾è®¡æ¨¡å¼"
           data-author="" >
            <span class="post-title" title="æ¡¥æ¥æ¨¡å¼----å¤„ç†å¤šç»´å˜åŒ–----äº”">æ¡¥æ¥æ¨¡å¼----å¤„ç†å¤šç»´å˜åŒ–----äº”</span>
            <span class="post-date" title="2020-02-15 21:42:31">2020/02/15</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/15/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/"
           data-tag="è®¾è®¡æ¨¡å¼"
           data-author="" >
            <span class="post-title" title="é€‚é…å™¨æ¨¡å¼----ä¸å…¼å®¹ç»“æ„çš„åè°ƒ----å…­">é€‚é…å™¨æ¨¡å¼----ä¸å…¼å®¹ç»“æ„çš„åè°ƒ----å…­</span>
            <span class="post-date" title="2020-02-15 21:42:31">2020/02/15</span>
        </a>
        
        <a  class="é¢è¯• "
           href="/2020/02/15/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E9%A2%98/"
           data-tag="é¢è¯•"
           data-author="" >
            <span class="post-title" title="é¢è¯•é¢˜">é¢è¯•é¢˜</span>
            <span class="post-date" title="2020-02-15 21:41:32">2020/02/15</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"
           data-tag="è®¾è®¡æ¨¡å¼"
           data-author="" >
            <span class="post-title" title="æ¨¡æ¿æ–¹æ³•æ¨¡å¼--------å››">æ¨¡æ¿æ–¹æ³•æ¨¡å¼--------å››</span>
            <span class="post-date" title="2020-02-14 16:38:31">2020/02/14</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"
           data-tag="è®¾è®¡æ¨¡å¼,å·¥å‚æ¨¡å¼"
           data-author="" >
            <span class="post-title" title="æŠ½è±¡å·¥å‚æ¨¡å¼--------ä¸‰">æŠ½è±¡å·¥å‚æ¨¡å¼--------ä¸‰</span>
            <span class="post-date" title="2020-02-13 21:41:31">2020/02/13</span>
        </a>
        
        <a  class="javaåŸºç¡€ "
           href="/2020/02/12/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8(ClassLoader)/"
           data-tag="ç±»åŠ è½½å™¨"
           data-author="" >
            <span class="post-title" title="æ·±å…¥ç†è§£javaç±»åŠ è½½å™¨(ClassLoader)">æ·±å…¥ç†è§£javaç±»åŠ è½½å™¨(ClassLoader)</span>
            <span class="post-date" title="2020-02-12 21:41:31">2020/02/12</span>
        </a>
        
        <a  class="javaåŸºç¡€ "
           href="/2020/02/12/java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E7%B1%BB%E5%9E%8B%E4%BF%A1%E6%81%AF(Class%E5%AF%B9%E8%B1%A1)%E4%B8%8E%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/"
           data-tag="åå°„"
           data-author="" >
            <span class="post-title" title="æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶">æ·±å…¥ç†è§£Javaç±»å‹ä¿¡æ¯(Classå¯¹è±¡)ä¸åå°„æœºåˆ¶</span>
            <span class="post-date" title="2020-02-12 21:41:31">2020/02/12</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"
           data-tag="è®¾è®¡æ¨¡å¼,å·¥å‚æ¨¡å¼"
           data-author="" >
            <span class="post-title" title="å·¥å‚æ–¹æ³•æ¨¡å¼--------äºŒ">å·¥å‚æ–¹æ³•æ¨¡å¼--------äºŒ</span>
            <span class="post-date" title="2020-02-12 10:22:00">2020/02/12</span>
        </a>
        
        <a  class="ç®—æ³• "
           href="/2020/02/12/%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%96%87%E6%95%B0/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="å›æ–‡æ•°">å›æ–‡æ•°</span>
            <span class="post-date" title="2020-02-12 10:22:00">2020/02/12</span>
        </a>
        
        <a  class="ç®—æ³• "
           href="/2020/02/12/%E7%AE%97%E6%B3%95/%E9%9D%A2%E8%AF%95%E9%A2%9803-%E6%95%B0%E7%BB%84%E4%B8%AD%E9%87%8D%E5%A4%8D%E7%9A%84%E6%95%B0%E5%AD%97/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="é¢è¯•é¢˜03-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—">é¢è¯•é¢˜03-æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</span>
            <span class="post-date" title="2020-02-12 10:22:00">2020/02/12</span>
        </a>
        
        <a  class="ç®—æ³• "
           href="/2020/02/12/%E7%AE%97%E6%B3%95/%E7%BC%93%E5%AD%98%E7%AE%97%E6%B3%95------FIFO%20%E3%80%81LRU%E3%80%81LFU/"
           data-tag="ç¼“å­˜"
           data-author="" >
            <span class="post-title" title="ç¼“å­˜ç®—æ³•ï¼ˆFIFOã€LRUã€LFUï¼‰">ç¼“å­˜ç®—æ³•ï¼ˆFIFOã€LRUã€LFUï¼‰</span>
            <span class="post-date" title="2020-02-12 10:22:00">2020/02/12</span>
        </a>
        
        <a  class="dubbo "
           href="/2020/02/11/dubbo/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20RPC%20%E4%B9%8B%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%AF%87/"
           data-tag="åŠ¨æ€ä»£ç†"
           data-author="" >
            <span class="post-title" title="æ·±å…¥ç†è§£ RPC ä¹‹åŠ¨æ€ä»£ç†ç¯‡">æ·±å…¥ç†è§£ RPC ä¹‹åŠ¨æ€ä»£ç†ç¯‡</span>
            <span class="post-date" title="2020-02-11 21:41:31">2020/02/11</span>
        </a>
        
        <a  class="dubbo "
           href="/2020/02/11/dubbo/dubbo%E9%9D%A2%E8%AF%95%E9%A2%98/"
           data-tag="é¢è¯•"
           data-author="" >
            <span class="post-title" title="dubboé¢è¯•é¢˜">dubboé¢è¯•é¢˜</span>
            <span class="post-date" title="2020-02-11 21:41:31">2020/02/11</span>
        </a>
        
        <a  class="javaåŸºç¡€ "
           href="/2020/02/11/java/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/"
           data-tag="åƒåœ¾"
           data-author="" >
            <span class="post-title" title="åƒåœ¾å›æ”¶">åƒåœ¾å›æ”¶</span>
            <span class="post-date" title="2020-02-11 21:41:31">2020/02/11</span>
        </a>
        
        <a  class="è®¾è®¡æ¨¡å¼ "
           href="/2020/02/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"
           data-tag="è®¾è®¡æ¨¡å¼,å·¥å‚æ¨¡å¼"
           data-author="" >
            <span class="post-title" title="ç®€å•å·¥å‚æ¨¡å¼--------ä¸€">ç®€å•å·¥å‚æ¨¡å¼--------ä¸€</span>
            <span class="post-date" title="2020-02-11 21:41:31">2020/02/11</span>
        </a>
        
        <a  class="JDK "
           href="/2020/02/11/java/JDK/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E8%A7%A3%E6%9E%90/"
           data-tag="çº¿ç¨‹æ± "
           data-author="" >
            <span class="post-title" title="çº¿ç¨‹æ± æºç è§£æ">çº¿ç¨‹æ± æºç è§£æ</span>
            <span class="post-date" title="2020-02-11 21:41:31">2020/02/11</span>
        </a>
        
        <a  class="ç®—æ³• "
           href="/2019/11/30/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E5%A0%86/"
           data-tag="ç®—æ³•"
           data-author="" >
            <span class="post-title" title="äºŒå‰å †">äºŒå‰å †</span>
            <span class="post-date" title="2019-11-30 21:49:13">2019/11/30</span>
        </a>
        
        <a  class="é¢è¯• "
           href="/2019/11/30/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E8%A6%81%E6%B1%82/"
           data-tag="é¢è¯•"
           data-author="" >
            <span class="post-title" title="åˆ«äººé¢è¯•è¦æ±‚">åˆ«äººé¢è¯•è¦æ±‚</span>
            <span class="post-date" title="2019-11-30 21:41:31">2019/11/30</span>
        </a>
        
        <a  class="è®¾è®¡åŸåˆ™ "
           href="/2019/05/26/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E4%BE%9D%E8%B5%96%E5%80%92%E7%BD%AE%E5%8E%9F%E5%88%99/"
           data-tag="è®¾è®¡åŸåˆ™"
           data-author="" >
            <span class="post-title" title="ç¬¬äºŒåŸåˆ™:ä¾èµ–å€’ç½®åŸåˆ™">ç¬¬äºŒåŸåˆ™:ä¾èµ–å€’ç½®åŸåˆ™</span>
            <span class="post-date" title="2019-05-26 17:07:00">2019/05/26</span>
        </a>
        
        <a  class="è®¾è®¡åŸåˆ™ "
           href="/2019/05/26/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99/"
           data-tag="è®¾è®¡åŸåˆ™"
           data-author="" >
            <span class="post-title" title="ç¬¬ä¸€åŸåˆ™:å¼€é—­åŸåˆ™">ç¬¬ä¸€åŸåˆ™:å¼€é—­åŸåˆ™</span>
            <span class="post-date" title="2019-05-26 17:07:00">2019/05/26</span>
        </a>
        
        <a  class="è®¾è®¡åŸåˆ™ "
           href="/2019/05/26/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%E5%8E%9F%E5%88%99/"
           data-tag="è®¾è®¡åŸåˆ™"
           data-author="" >
            <span class="post-title" title="ç¬¬ä¸‰åŸåˆ™:å•ä¸€èŒè´£åŸåˆ™">ç¬¬ä¸‰åŸåˆ™:å•ä¸€èŒè´£åŸåˆ™</span>
            <span class="post-date" title="2019-05-26 17:07:00">2019/05/26</span>
        </a>
        
        <a  class="è®¾è®¡åŸåˆ™ "
           href="/2019/05/26/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99/"
           data-tag="è®¾è®¡åŸåˆ™"
           data-author="" >
            <span class="post-title" title="ç¬¬ä¸ƒåŸåˆ™:åˆæˆå¤ç”¨åŸåˆ™">ç¬¬ä¸ƒåŸåˆ™:åˆæˆå¤ç”¨åŸåˆ™</span>
            <span class="post-date" title="2019-05-26 17:07:00">2019/05/26</span>
        </a>
        
        <a  class="è®¾è®¡åŸåˆ™ "
           href="/2019/05/26/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E6%8E%A5%E5%8F%A3%E9%9A%94%E7%A6%BB%E5%8E%9F%E5%88%99/"
           data-tag="è®¾è®¡åŸåˆ™"
           data-author="" >
            <span class="post-title" title="ç¬¬å››åŸåˆ™:æ¥å£éš”ç¦»åŸåˆ™">ç¬¬å››åŸåˆ™:æ¥å£éš”ç¦»åŸåˆ™</span>
            <span class="post-date" title="2019-05-26 17:07:00">2019/05/26</span>
        </a>
        
        <a  class="è®¾è®¡åŸåˆ™ "
           href="/2019/05/26/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99/"
           data-tag="è®¾è®¡åŸåˆ™"
           data-author="" >
            <span class="post-title" title="ç¬¬å…­åŸåˆ™:é‡Œæ°æ›¿æ¢åŸåˆ™">ç¬¬å…­åŸåˆ™:é‡Œæ°æ›¿æ¢åŸåˆ™</span>
            <span class="post-date" title="2019-05-26 17:07:00">2019/05/26</span>
        </a>
        
        <a  class="è®¾è®¡åŸåˆ™ "
           href="/2019/05/26/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99/"
           data-tag="è®¾è®¡åŸåˆ™"
           data-author="" >
            <span class="post-title" title="ç¬¬äº”åŸåˆ™:è¿ªç±³ç‰¹æ³•åˆ™">ç¬¬äº”åŸåˆ™:è¿ªç±³ç‰¹æ³•åˆ™</span>
            <span class="post-date" title="2019-05-26 17:07:00">2019/05/26</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-java/JDK/CGlibåŠ¨æ€ä»£ç†" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">CGlibåŠ¨æ€ä»£ç†æºç </h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a  data-rel="JDK">JDK</a>
            
        </span>
        
        
        <span class="tag">
            
            <a class="color5">åŠ¨æ€ä»£ç†</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        åˆ›å»ºæ—¶é—´:<time class="date" title='æ›´æ–°æ—¶é—´: 2020-02-19 23:02:05'>2020-02-19 16:41</time>
        
    </div>
    <div class="article-meta">
        
        <span>å­—æ•°:2.1k</span>
        
        
        <span id="busuanzi_container_page_pv">
            é˜…è¯»:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#CglibåŠ¨æ€ä»£ç†å®ç°æ–¹å¼"><span class="toc-text">CglibåŠ¨æ€ä»£ç†å®ç°æ–¹å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç”Ÿæˆä»£ç†ç±»"><span class="toc-text">ç”Ÿæˆä»£ç†ç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ–¹æ³•çš„è°ƒç”¨"><span class="toc-text">æ–¹æ³•çš„è°ƒç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MethodProxy"><span class="toc-text">MethodProxy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FastClassæœºåˆ¶"><span class="toc-text">FastClassæœºåˆ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ€»ç»“"><span class="toc-text">æ€»ç»“</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CglibåŠ¨æ€ä»£ç†å®ç°æ–¹å¼"><a href="#CglibåŠ¨æ€ä»£ç†å®ç°æ–¹å¼" class="headerlink" title="CglibåŠ¨æ€ä»£ç†å®ç°æ–¹å¼"></a>CglibåŠ¨æ€ä»£ç†å®ç°æ–¹å¼</h2><p>æˆ‘ä»¬å…ˆé€šè¿‡ä¸€ä¸ªdemoçœ‹ä¸€ä¸‹Cglibæ˜¯å¦‚ä½•å®ç°åŠ¨æ€ä»£ç†çš„ã€‚</p>
<p>é¦–å…ˆå®šä¹‰ä¸ªæœåŠ¡ç±»ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•å¹¶ä¸”å…¶ä¸­ä¸€ä¸ªæ–¹æ³•ç”¨finalæ¥ä¿®é¥°ã€‚</p>
<pre><code class="java">public class PersonService {
    public PersonService() {
        System.out.println(&quot;PersonServiceæ„é€ &quot;);
    }
    //è¯¥æ–¹æ³•ä¸èƒ½è¢«å­ç±»è¦†ç›–
    final public Person getPerson(String code) {
        System.out.println(&quot;PersonService:getPerson&gt;&gt;&quot;+code);
        return null;
    }

    public void setPerson() {
        System.out.println(&quot;PersonService:setPerson&quot;);
    }
}</code></pre>
<p>Cglibæ˜¯æ— æ³•ä»£ç†finalä¿®é¥°çš„æ–¹æ³•çš„ï¼Œå…·ä½“åŸå› æˆ‘ä»¬ä¸€ä¼šé€šè¿‡æºç æ¥åˆ†æã€‚</p>
<p>ç„¶åï¼Œå®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰MethodInterceptorã€‚</p>
<pre><code class="java">public class CglibProxyIntercepter implements MethodInterceptor {
    @Override
    public Object intercept(Object sub, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {
        System.out.println(&quot;æ‰§è¡Œå‰...&quot;);
        Object object = methodProxy.invokeSuper(sub, objects);
        System.out.println(&quot;æ‰§è¡Œå...&quot;);
        return object;
    }
}</code></pre>
<p><strong>æˆ‘ä»¬çœ‹ä¸€ä¸‹interceptæ–¹æ³•å…¥å‚ï¼š</strong></p>
<ul>
<li>subï¼šcglibç”Ÿæˆçš„ä»£ç†å¯¹è±¡</li>
<li>methodï¼šè¢«ä»£ç†å¯¹è±¡æ–¹æ³•</li>
<li>objectsï¼šæ–¹æ³•å…¥å‚</li>
<li>methodProxyï¼šä»£ç†æ–¹æ³•</li>
</ul>
<p>æœ€åï¼Œæˆ‘ä»¬å†™ä¸ªä¾‹å­è°ƒç”¨ä¸€ä¸‹ï¼Œå¹¶å°†Cglibç”Ÿæˆçš„ä»£ç†ç±»classæ–‡ä»¶è¾“å‡ºç£ç›˜æ–¹ä¾¿æˆ‘ä»¬åç¼–è¯‘æŸ¥çœ‹æºç ã€‚</p>
<pre><code class="java">public class Test {
    public static void main(String[] args) {
        //ä»£ç†ç±»classæ–‡ä»¶å­˜å…¥æœ¬åœ°ç£ç›˜
        System.setProperty(DebuggingClassWriter.DEBUG_LOCATION_PROPERTY, &quot;D:\\code&quot;);
        Enhancer enhancer = new Enhancer();
        enhancer.setSuperclass(PersonService.class);
        enhancer.setCallback(new CglibProxyIntercepter());
        PersonService proxy= (PersonService)  enhancer.create();
        proxy.setPerson();
        proxy.getPerson(&quot;1&quot;); 
    } }</code></pre>
<p>æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹ä¼šå‘ç°getPersonå› ä¸ºåŠ finalä¿®é¥°å¹¶æ²¡æœ‰è¢«ä»£ç†ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡æºç åˆ†æä¸€ä¸‹ã€‚</p>
<blockquote>
<p>æ‰§è¡Œå‰â€¦<br>PersonService:setPerson<br>æ‰§è¡Œåâ€¦<br>PersonService:getPerson&gt;&gt;1</p>
</blockquote>
<h2 id="ç”Ÿæˆä»£ç†ç±»"><a href="#ç”Ÿæˆä»£ç†ç±»" class="headerlink" title="ç”Ÿæˆä»£ç†ç±»"></a>ç”Ÿæˆä»£ç†ç±»</h2><p>æ‰§è¡ŒTestæµ‹è¯•ç±»å¯ä»¥å¾—åˆ°Cglibç”Ÿæˆçš„classæ–‡ä»¶ï¼Œä¸€å…±æœ‰ä¸‰ä¸ªclassæ–‡ä»¶æˆ‘ä»¬åç¼–è¯‘ä»¥åé€ä¸ªè¯´ä¸€ä¸‹ä»–ä»¬çš„ä½œç”¨ã€‚</p>
<p><img src="/imag/Factory/image-20200219224117510.png" alt="image-20200219224117510"></p>
<p>PersonService$$EnhancerByCGLIB$$9d21f8c4å°±æ˜¯cglibç”Ÿæˆçš„ä»£ç†ç±»ï¼Œå®ƒç»§æ‰¿äº†PersonServiceç±»ã€‚</p>
<pre><code class="java">public class PersonService$$EnhancerByCGLIB$$9d21f8c4 extends PersonService implements Factory {
    private boolean CGLIB$BOUND;
    public static Object CGLIB$FACTORY_DATA;
    private static final ThreadLocal CGLIB$THREAD_CALLBACKS;
    private static final Callback[] CGLIB$STATIC_CALLBACKS;
    private MethodInterceptor CGLIB$CALLBACK_0; //æ‹¦æˆªå™¨
    private static Object CGLIB$CALLBACK_FILTER;
    private static final Method CGLIB$setPerson$0$Method;//è¢«ä»£ç†æ–¹æ³•
    private static final MethodProxy CGLIB$setPerson$0$Proxy;//ä»£ç†æ–¹æ³•
    private static final Object[] CGLIB$emptyArgs;
    private static final Method CGLIB$equals$1$Method;
    private static final MethodProxy CGLIB$equals$1$Proxy;
    private static final Method CGLIB$toString$2$Method;
    private static final MethodProxy CGLIB$toString$2$Proxy;
    private static final Method CGLIB$hashCode$3$Method;
    private static final MethodProxy CGLIB$hashCode$3$Proxy;
    private static final Method CGLIB$clone$4$Method;
    private static final MethodProxy CGLIB$clone$4$Proxy;

    static void CGLIB$STATICHOOK1() {
        CGLIB$THREAD_CALLBACKS = new ThreadLocal();
        CGLIB$emptyArgs = new Object[0];
        Class var0 = Class.forName(&quot;audition.cglibProxy.PersonService$$EnhancerByCGLIB$$9d21f8c4&quot;);//ä»£ç†ç±»
        Class var1;//è¢«ä»£ç†ç±»PersionService
        Method[] var10000 = ReflectUtils.findMethods(new String[]{&quot;equals&quot;, &quot;(Ljava/lang/Object;)Z&quot;, &quot;toString&quot;, &quot;()Ljava/lang/String;&quot;, &quot;hashCode&quot;, &quot;()I&quot;, &quot;clone&quot;, &quot;()Ljava/lang/Object;&quot;}, (var1 = Class.forName(&quot;java.lang.Object&quot;)).getDeclaredMethods());
        CGLIB$equals$1$Method = var10000[0];
        CGLIB$equals$1$Proxy = MethodProxy.create(var1, var0, &quot;(Ljava/lang/Object;)Z&quot;, &quot;equals&quot;, &quot;CGLIB$equals$1&quot;);
        CGLIB$toString$2$Method = var10000[1];
        CGLIB$toString$2$Proxy = MethodProxy.create(var1, var0, &quot;()Ljava/lang/String;&quot;, &quot;toString&quot;, &quot;CGLIB$toString$2&quot;);
        CGLIB$hashCode$3$Method = var10000[2];
        CGLIB$hashCode$3$Proxy = MethodProxy.create(var1, var0, &quot;()I&quot;, &quot;hashCode&quot;, &quot;CGLIB$hashCode$3&quot;);
        CGLIB$clone$4$Method = var10000[3];
        CGLIB$clone$4$Proxy = MethodProxy.create(var1, var0, &quot;()Ljava/lang/Object;&quot;, &quot;clone&quot;, &quot;CGLIB$clone$4&quot;);
        CGLIB$setPerson$0$Method = ReflectUtils.findMethods(new String[]{&quot;setPerson&quot;, &quot;()V&quot;}, (var1 = Class.forName(&quot;audition.cglibProxy.PersonService&quot;)).getDeclaredMethods())[0];
        CGLIB$setPerson$0$Proxy = MethodProxy.create(var1, var0, &quot;()V&quot;, &quot;setPerson&quot;, &quot;CGLIB$setPerson$0&quot;);
    }</code></pre>
<p>æˆ‘ä»¬é€šè¿‡ä»£ç†ç±»çš„æºç å¯ä»¥çœ‹åˆ°ï¼Œä»£ç†ç±»ä¼šè·å¾—æ‰€æœ‰åœ¨çˆ¶ç±»ç»§æ‰¿æ¥çš„æ–¹æ³•ï¼Œå¹¶ä¸”ä¼šæœ‰MethodProxyä¸ä¹‹å¯¹åº”ï¼Œæ¯”å¦‚ <code>Method CGLIB$setPerson$0$Method</code>ã€<code>MethodProxy CGLIB$setPerson$0$Proxy</code>;</p>
<h2 id="æ–¹æ³•çš„è°ƒç”¨"><a href="#æ–¹æ³•çš„è°ƒç”¨" class="headerlink" title="æ–¹æ³•çš„è°ƒç”¨"></a>æ–¹æ³•çš„è°ƒç”¨</h2><pre><code class="java">//ä»£ç†æ–¹æ³•ï¼ˆmethodProxy.invokeSuperä¼šè°ƒç”¨ï¼‰
   final void CGLIB$setPerson$0() {
      super.setPerson();
   }
   //è¢«ä»£ç†æ–¹æ³•(methodProxy.invokeä¼šè°ƒç”¨ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨æ‹¦æˆªå™¨ä¸­è°ƒç”¨methodProxy.invokeä¼šæ­»å¾ªç¯ï¼Œä¸€ç›´åœ¨è°ƒç”¨æ‹¦æˆªå™¨)
   public final void setPerson() {
      MethodInterceptor var10000 = this.CGLIB$CALLBACK_0;
      if(this.CGLIB$CALLBACK_0 == null) {
         CGLIB$BIND_CALLBACKS(this);
         var10000 = this.CGLIB$CALLBACK_0;
      }

      if(var10000 != null) {
         //è°ƒç”¨æ‹¦æˆªå™¨
         var10000.intercept(this, CGLIB$setPerson$0$Method, CGLIB$emptyArgs, CGLIB$setPerson$0$Proxy);
      } else {
         super.setPerson();
      }
   }</code></pre>
<p>è°ƒç”¨è¿‡ç¨‹ï¼šä»£ç†å¯¹è±¡è°ƒç”¨<code>this.setPerson</code>æ–¹æ³•-&gt;è°ƒç”¨æ‹¦æˆªå™¨-&gt;<code>methodProxy.invokeSuper</code>-&gt;<code>CGLIB$setPerson$0</code>-&gt;è¢«ä»£ç†å¯¹è±¡setPersonæ–¹æ³•</p>
<h2 id="MethodProxy"><a href="#MethodProxy" class="headerlink" title="MethodProxy"></a>MethodProxy</h2><p>æ‹¦æˆªå™¨MethodInterceptorä¸­å°±æ˜¯ç”±MethodProxyçš„invokeSuperæ–¹æ³•è°ƒç”¨ä»£ç†æ–¹æ³•çš„ï¼ŒMethodProxyéå¸¸å…³é”®ï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹å®ƒå…·ä½“åšäº†ä»€ä¹ˆã€‚</p>
<ul>
<li>åˆ›å»ºMethodProxy</li>
</ul>
<pre><code class="java">public class MethodProxy {
    private Signature sig1;
    private Signature sig2;
    private MethodProxy.CreateInfo createInfo;
    private final Object initLock = new Object();
    private volatile MethodProxy.FastClassInfo fastClassInfo;
    //c1:è¢«ä»£ç†å¯¹è±¡Class
    //c2:ä»£ç†å¯¹è±¡Class
    //descï¼šå…¥å‚ç±»å‹
    //name1:è¢«ä»£ç†æ–¹æ³•å
    //name2:ä»£ç†æ–¹æ³•å
    public static MethodProxy create(Class c1, Class c2, String desc, String name1, String name2) {
        MethodProxy proxy = new MethodProxy();
        proxy.sig1 = new Signature(name1, desc);//è¢«ä»£ç†æ–¹æ³•ç­¾å
        proxy.sig2 = new Signature(name2, desc);//ä»£ç†æ–¹æ³•ç­¾å
        proxy.createInfo = new MethodProxy.CreateInfo(c1, c2);
        return proxy;
    }

private static class CreateInfo {
    Class c1;
    Class c2;
    NamingPolicy namingPolicy;
    GeneratorStrategy strategy;
    boolean attemptLoad;

    public CreateInfo(Class c1, Class c2) {
        this.c1 = c1;
        this.c2 = c2;
        AbstractClassGenerator fromEnhancer = AbstractClassGenerator.getCurrent();
        if(fromEnhancer != null) {
            this.namingPolicy = fromEnhancer.getNamingPolicy();
            this.strategy = fromEnhancer.getStrategy();
            this.attemptLoad = fromEnhancer.getAttemptLoad();
        }

    }
}</code></pre>
<ul>
<li>invokeSuperè°ƒç”¨</li>
</ul>
<pre><code class="java">public Object invokeSuper(Object obj, Object[] args) throws Throwable {
        try {
            this.init();
            MethodProxy.FastClassInfo fci = this.fastClassInfo;
            return fci.f2.invoke(fci.i2, obj, args);
        } catch (InvocationTargetException var4) {
            throw var4.getTargetException();
        }
    }

private static class FastClassInfo {
    FastClass f1;//è¢«ä»£ç†ç±»FastClass
    FastClass f2;//ä»£ç†ç±»FastClass
    int i1; //è¢«ä»£ç†ç±»çš„æ–¹æ³•ç­¾å(index)
    int i2;//ä»£ç†ç±»çš„æ–¹æ³•ç­¾å

    private FastClassInfo() {
    }
}</code></pre>
<p>ä¸Šé¢ä»£ç è°ƒç”¨è¿‡ç¨‹å°±æ˜¯è·å–åˆ°ä»£ç†ç±»å¯¹åº”çš„FastClassï¼Œå¹¶æ‰§è¡Œäº†ä»£ç†æ–¹æ³•ã€‚è¿˜è®°å¾—ä¹‹å‰ç”Ÿæˆä¸‰ä¸ªclassæ–‡ä»¶å—ï¼ŸPersonService$$EnhancerByCGLIB$$9d21f8c4$$FastClassByCGLIB$$22128eb3.classå°±æ˜¯ä»£ç†ç±»çš„FastClassï¼Œ<br>PersonService$$FastClassByCGLIB$$1def4120.classå°±æ˜¯è¢«ä»£ç†ç±»çš„FastClassã€‚</p>
<h2 id="FastClassæœºåˆ¶"><a href="#FastClassæœºåˆ¶" class="headerlink" title="FastClassæœºåˆ¶"></a>FastClassæœºåˆ¶</h2><p>CglibåŠ¨æ€ä»£ç†æ‰§è¡Œä»£ç†æ–¹æ³•æ•ˆç‡ä¹‹æ‰€ä»¥æ¯”JDKçš„é«˜æ˜¯å› ä¸ºCglibé‡‡ç”¨äº†FastClassæœºåˆ¶ï¼Œå®ƒçš„åŸç†ç®€å•æ¥è¯´å°±æ˜¯ï¼šä¸ºä»£ç†ç±»å’Œè¢«ä»£ç†ç±»å„ç”Ÿæˆä¸€ä¸ªClassï¼Œè¿™ä¸ªClassä¼šä¸ºä»£ç†ç±»æˆ–è¢«ä»£ç†ç±»çš„æ–¹æ³•åˆ†é…ä¸€ä¸ªindex(intç±»å‹)ã€‚<br>è¿™ä¸ªindexå½“åšä¸€ä¸ªå…¥å‚ï¼ŒFastClasså°±å¯ä»¥ç›´æ¥å®šä½è¦è°ƒç”¨çš„æ–¹æ³•ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œè¿™æ ·çœå»äº†åå°„è°ƒç”¨ï¼Œæ‰€ä»¥è°ƒç”¨æ•ˆç‡æ¯”JDKåŠ¨æ€ä»£ç†é€šè¿‡åå°„è°ƒç”¨é«˜ã€‚ä¸‹é¢æˆ‘ä»¬åç¼–è¯‘ä¸€ä¸ªFastClassçœ‹çœ‹ï¼š</p>
<pre><code class="java">//æ ¹æ®æ–¹æ³•ç­¾åè·å–index
 public int getIndex(Signature var1) {
      String var10000 = var1.toString();
      switch(var10000.hashCode()) {
      case -2077043409:
         if(var10000.equals(&quot;getPerson(Ljava/lang/String;)Lcom/demo/pojo/Person;&quot;)) {
            return 21;
         }
         break;
      case -2055565910:
         if(var10000.equals(&quot;CGLIB$SET_THREAD_CALLBACKS([Lnet/sf/cglib/proxy/Callback;)V&quot;)) {
            return 12;
         }
         break;
      case -1902447170:
         if(var10000.equals(&quot;setPerson()V&quot;)) {
            return 7;
         }
         break;
   //çœç•¥éƒ¨åˆ†ä»£ç .....
ã€€
 //æ ¹æ®indexç›´æ¥å®šä½æ‰§è¡Œæ–¹æ³•
 public Object invoke(int var1, Object var2, Object[] var3) throws InvocationTargetException {
      eaaaed75 var10000 = (eaaaed75)var2;
      int var10001 = var1;

      try {
         switch(var10001) {
         case 0:
            return new Boolean(var10000.equals(var3[0]));
         case 1:
            return var10000.toString();
         case 2:
            return new Integer(var10000.hashCode());
         case 3:
            return var10000.newInstance((Class[])var3[0], (Object[])var3[1], (Callback[])var3[2]);
         case 4:
            return var10000.newInstance((Callback)var3[0]);
         case 5:
            return var10000.newInstance((Callback[])var3[0]);
         case 6:
            var10000.setCallback(((Number)var3[0]).intValue(), (Callback)var3[1]);
            return null;
         case 7:
            var10000.setPerson();
            return null;
         case 8:
            var10000.setCallbacks((Callback[])var3[0]);
            return null;
         case 9:
            return var10000.getCallback(((Number)var3[0]).intValue());
         case 10:
            return var10000.getCallbacks();
         case 11:
            eaaaed75.CGLIB$SET_STATIC_CALLBACKS((Callback[])var3[0]);
            return null;
         case 12:
            eaaaed75.CGLIB$SET_THREAD_CALLBACKS((Callback[])var3[0]);
            return null;
         case 13:
            return eaaaed75.CGLIB$findMethodProxy((Signature)var3[0]);
         case 14:
            return var10000.CGLIB$toString$3();
         case 15:
            return new Boolean(var10000.CGLIB$equals$2(var3[0]));
         case 16:
            return var10000.CGLIB$clone$5();
         case 17:
            return new Integer(var10000.CGLIB$hashCode$4());
         case 18:
            var10000.CGLIB$finalize$1();
            return null;
         case 19:
            var10000.CGLIB$setPerson$0();
            return null;
        //çœç•¥éƒ¨åˆ†ä»£ç ....
      } catch (Throwable var4) {
         throw new InvocationTargetException(var4);
      }

      throw new IllegalArgumentException(&quot;Cannot find matching method/constructor&quot;);
   }</code></pre>
<p><strong>FastClasså¹¶ä¸æ˜¯è·Ÿä»£ç†ç±»ä¸€å—ç”Ÿæˆçš„ï¼Œè€Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡ŒMethodProxy invoke/invokeSuperæ—¶ç”Ÿæˆçš„å¹¶æ”¾åœ¨äº†ç¼“å­˜ä¸­ã€‚</strong></p>
<pre><code class="java">//MethodProxy invoke/invokeSuperéƒ½è°ƒç”¨äº†init()
private void init() {
        if(this.fastClassInfo == null) {
            Object var1 = this.initLock;
            synchronized(this.initLock) {
                if(this.fastClassInfo == null) {
                    MethodProxy.CreateInfo ci = this.createInfo;
                    MethodProxy.FastClassInfo fci = new MethodProxy.FastClassInfo();
                    fci.f1 = helper(ci, ci.c1);//å¦‚æœç¼“å­˜ä¸­å°±å–å‡ºï¼Œæ²¡æœ‰å°±ç”Ÿæˆæ–°çš„FastClass
                    fci.f2 = helper(ci, ci.c2);
                    fci.i1 = fci.f1.getIndex(this.sig1);//è·å–æ–¹æ³•çš„index
                    fci.i2 = fci.f2.getIndex(this.sig2);
                    this.fastClassInfo = fci;
                    this.createInfo = null;
                }
            }
        }

    }</code></pre>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è‡³æ­¤ï¼ŒCglibåŠ¨æ€ä»£ç†çš„åŸç†æˆ‘ä»¬å°±åŸºæœ¬ææ¸…æ¥šäº†ï¼Œä»£ç ç»†èŠ‚æœ‰å…´è¶£å¯ä»¥å†ç ”ç©¶ä¸‹ã€‚</p>
<p><strong>æœ€åæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹JDKåŠ¨æ€ä»£ç†å’ŒGglibåŠ¨æ€ä»£ç†çš„åŒºåˆ«ï¼š</strong></p>
<ol>
<li>JDKåŠ¨æ€ä»£ç†æ˜¯å®ç°äº†è¢«ä»£ç†å¯¹è±¡çš„æ¥å£ï¼ŒCglibæ˜¯ç»§æ‰¿äº†è¢«ä»£ç†å¯¹è±¡ã€‚</li>
<li>JDKå’ŒCglibéƒ½æ˜¯åœ¨è¿è¡ŒæœŸç”Ÿæˆå­—èŠ‚ç ï¼ŒJDKæ˜¯ç›´æ¥å†™Classå­—èŠ‚ç ï¼ŒCglibä½¿ç”¨ASMæ¡†æ¶å†™Classå­—èŠ‚ç ï¼ŒCglibä»£ç†å®ç°æ›´å¤æ‚ï¼Œç”Ÿæˆä»£ç†ç±»æ¯”JDKæ•ˆç‡ä½ã€‚</li>
<li>JDKè°ƒç”¨ä»£ç†æ–¹æ³•ï¼Œæ˜¯é€šè¿‡åå°„æœºåˆ¶è°ƒç”¨ï¼ŒCglibæ˜¯é€šè¿‡FastClassæœºåˆ¶ç›´æ¥è°ƒç”¨æ–¹æ³•ï¼ŒCglibæ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚<strong>ç®€è¿°FastClassï¼Œç»™æ¯ä¸ªæ–¹æ³•åšä¸Šç¼–å·ï¼Œé€šè¿‡å¯¹åº”çš„ç¼–å·ç›´æ¥è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ï¼Œæ‰€ä»¥æ¯”é€šè¿‡åå°„è°ƒç”¨çš„JDKä»£ç†æ–¹å¼è¦å¿«ã€‚</strong></li>
</ol>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 729535228@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">èµ</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">æ–‡ç« æ ‡é¢˜:</span>CGlibåŠ¨æ€ä»£ç†æºç </p>
    <p><span class="copy-title">æ–‡ç« å­—æ•°:</span><span class="post-count">2.1k</span></p>
    <p><span class="copy-title">æœ¬æ–‡ä½œè€…:</span><a  title="Ocean Bai">Ocean Bai</a></p>
    <p><span class="copy-title">å‘å¸ƒæ—¶é—´:</span>2020-02-19, 16:41:31</p>
    <p><span class="copy-title">æœ€åæ›´æ–°:</span>2020-02-19, 23:02:05</p>
    <span class="copy-title">åŸå§‹é“¾æ¥:</span><a class="post-url" href="/2020/02/19/java/JDK/CGlib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" title="CGlibåŠ¨æ€ä»£ç†æºç ">http://yoursite.com/2020/02/19/java/JDK/CGlib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/</a>
    <p>
        <span class="copy-title">ç‰ˆæƒå£°æ˜:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
    </p>
</div>








    </div>
    <div class="copyright">
        <p class="footer-entry">Â©2019-2020 Ocean</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">ç›®å½•</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>å–œæ¬¢å°±ç‚¹èµ,ç–¼çˆ±å°±æ‰“èµ</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">æ”¯ä»˜å®</label></span><span><label><input type="radio" name="pay" value="weixin">å¾®ä¿¡</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*ä½œè€…ã€æ ‡ç­¾çš„è‡ªåŠ¨è¡¥å…¨*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#AOP','#åŠ¨æ€ä»£ç†','#è®¾è®¡åŸåˆ™','#SPI','#é¢è¯•','#æ€»ç»“é¢è¯•','#ç±»åŠ è½½å™¨','#åƒåœ¾','#è®¾è®¡æ¨¡å¼','#å·¥å‚æ¨¡å¼','#åå°„','#ç®—æ³•','#ç¼“å­˜','#çº¿ç¨‹æ± ','#ThreadLocal',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
        /* æ¸²æŸ“*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
